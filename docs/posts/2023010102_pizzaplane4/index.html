<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jörg Kantel">

<title>Der Schockwellenreiter - Pizzaplane 4 – jetzt mit grünem Spieler</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken"
  }
}</script>
<script data-goatcounter="https://kantel.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Der Schockwellenreiter</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">Über den Schockwellenreiter</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kantel/kantel.github.io"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://mastodon.social/@kantel"><i class="bi bi-mastodon" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Pizzaplane 4 – jetzt mit grünem Spieler</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Python</div>
    <div class="quarto-category">Pygame</div>
    <div class="quarto-category">Spieleprogrammierung</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor:in</div>
    <div class="quarto-title-meta-contents">
             <p>Jörg Kantel </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Veröffentlichungsdatum</div>
    <div class="quarto-title-meta-contents">
      <p class="date">1. Januar 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.flickr.com/photos/schockwellenreiter/52598688169/"><img src="images/pizzaplane4-b.jpg" class="img-fluid figure-img"></a></p>
</figure>
</div>
<p>Was gibt es schöneres, als das neue Jahr mit der Programmierung eines Spiels zu begrüßen? Und so habe ich mein kleines Spiel, in dem ein kleiner, <del>roter</del> … Halt! Hier gibt es die erste Änderung im Spiel: Ich habe nämlich den roten Doppeldecker durch einen grünen<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Flieger ersetzt. Denn in Anbetracht der politischen Untertöne des Spiels erschien mir die Anspielung auf den »<a href="https://de.wikipedia.org/wiki/Manfred_von_Richthofen">Roten Baron</a>« nicht angemessen – auch wenn ich selber den Doppeldecker eher mit <em>Snoopy</em> denn mit der Deutschen Luftwaffe assoziiere.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/1lneuIhrfh4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">
</iframe>
<p>Den grünen Flieger gibt es auf <a href="https://opengameart.org/content/free-plane-sprite">OpenGameArt.org</a> als Public Domain (<a href="http://creativecommons.org/publicdomain/zero/1.0/">CC0</a>) und ich habe ihn in dem Video »<a href="https://www.youtube.com/watch?v=1lneuIhrfh4">Side Scroller Game in Python und Pygame</a> entdeckt<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, einer wüsten Mischung aus <em>Side Scroller</em> und <em>Flappy Bird</em> (ich mag solche wilden <em>Cross Over</em>), das sehr stark meinem <em>Pizza Plane</em> ähnelt. Und der Macher hat auch ähnliche Lösungen wie ich gefunden. Daher kann ich so falsch nicht liegen. (Und nein, ich habe nicht abgeschrieben, das Spiel wurde am 10. Dezember 2022 erst hochgeladen, da hatte mein Pizza-Plane-Projekt (in seiner <a href="http://blog.schockwellenreiter.de/2022/10/2022101502.html">ursprünglichen Fassung</a>) schon etliche Monate auf dem Buckel).</p>
<p>Doch zurück zu »meinem« Spiel: Neben dem Austausch des Fliegers habe ich die Punkteanzeige um die Anzeige der »Leben«<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> des Spielers erweitert (Code wegen der besseren Lesbarkeit mit <code>\</code> umgebrochen):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>    screen.blit(hud.score_lives, (hud.score_lives_rect.x,</span>
<span id="cb1-2"><a href="#cb1-2"></a>                hud.score_lives_rect.y))</span>
<span id="cb1-3"><a href="#cb1-3"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(plane.lives):</span>
<span id="cb1-4"><a href="#cb1-4"></a>        hud.heart_rect.x <span class="op">=</span> <span class="op">\</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>                hud.score_lives_rect.right <span class="op">+</span> <span class="dv">10</span> <span class="op">+</span> <span class="op">\</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>                i<span class="op">*</span>(hud.heart_img.get_width() <span class="op">+</span> <span class="dv">10</span>)</span>
<span id="cb1-7"><a href="#cb1-7"></a>        screen.blit(hud.heart_img, (hud.heart_rect.x, hud.heart_y))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Und das Spiel kann jetzt verloren werden: Jede Pizza, die nicht abgeschossen wird und den linken Rand erreicht, kostet den Spieler 2 Punkte. Und sinkt die Anzahl der Punkte unter Null, hat er das Spiel verloren:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a>        <span class="cf">if</span> <span class="va">self</span>.rect.x <span class="op">&lt;</span> <span class="op">-</span><span class="dv">30</span>:</span>
<span id="cb2-2"><a href="#cb2-2"></a>            <span class="va">self</span>.reset()</span>
<span id="cb2-3"><a href="#cb2-3"></a>            plane.score <span class="op">-=</span> <span class="dv">2</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>            <span class="cf">if</span> plane.score <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb2-5"><a href="#cb2-5"></a>                <span class="bu">print</span>(<span class="st">"Zu viele Pizzas entkommen lassen!"</span>)</span>
<span id="cb2-6"><a href="#cb2-6"></a>                pygame.quit()</span>
<span id="cb2-7"><a href="#cb2-7"></a>                <span class="cf">try</span>:</span>
<span id="cb2-8"><a href="#cb2-8"></a>                    sys.exit()</span>
<span id="cb2-9"><a href="#cb2-9"></a>                <span class="cf">finally</span>:</span>
<span id="cb2-10"><a href="#cb2-10"></a>                    keep_going <span class="op">=</span> <span class="va">False</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Für jede abgeschossene Pizza bekommt der Spieler allerdings immer noch 10 Punkte gutgeschrieben. Das heißt, zu Beginn des Spiels sollte der Spieler erst einmal möglichst viele Pizzas abschießen, um sich ein ausreichendes Punktepolster zuzulegen.</p>
<p>Zum anderen verliert der Spieler ein Leben (ein Herzchen), wenn er von einer Pizza touchiert wird. Sinkt die Anzahl der Herzchen unter Null, hat er das Spiel ebenfalls verloren:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a>        <span class="cf">for</span> enemy <span class="kw">in</span> enemies:</span>
<span id="cb3-2"><a href="#cb3-2"></a>            <span class="cf">if</span> pygame.sprite.collide_rect(<span class="va">self</span>, enemy):</span>
<span id="cb3-3"><a href="#cb3-3"></a>                enemy.reset()</span>
<span id="cb3-4"><a href="#cb3-4"></a>                <span class="va">self</span>.lives <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>                <span class="cf">if</span> <span class="va">self</span>.lives <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb3-6"><a href="#cb3-6"></a>                    <span class="bu">print</span>(<span class="st">"Verloren!"</span>)</span>
<span id="cb3-7"><a href="#cb3-7"></a>                    pygame.quit()</span>
<span id="cb3-8"><a href="#cb3-8"></a>                    <span class="cf">try</span>:</span>
<span id="cb3-9"><a href="#cb3-9"></a>                        sys.exit()</span>
<span id="cb3-10"><a href="#cb3-10"></a>                    <span class="cf">finally</span>:</span>
<span id="cb3-11"><a href="#cb3-11"></a>                        keep_going <span class="op">=</span> <span class="va">False</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Gewinnen kann der Spieler das Spiel noch nicht. Dafür muß er als Boss-Gegner erst einmal die bösen <a href="https://de.wikipedia.org/wiki/Giorgia_Meloni">Melonis</a> besiegen, die ich noch implementieren muß. Das habe ich für Stage 5 oder Stage 6 vorgesehen.</p>
<p>Jetzt aber wie gewohnt erst einmal den kompletten Quellcode der aktuellen Fassung<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> zur Ansicht:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="im">import</span> pygame</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="im">from</span> pygame.<span class="bu">locals</span> <span class="im">import</span> <span class="op">*</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="im">from</span> random <span class="im">import</span> randint</span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="im">import</span> os</span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="im">import</span> sys</span>
<span id="cb4-6"><a href="#cb4-6"></a></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co"># Hier wird der Pfad zum Verzeichnis der Assets gesetzt</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>DATAPATH <span class="op">=</span> os.path.join(os.getcwd(), <span class="st">"data"</span>)</span>
<span id="cb4-9"><a href="#cb4-9"></a>FONTPATH <span class="op">=</span> os.path.join(os.getcwd(), <span class="st">"fonts"</span>)</span>
<span id="cb4-10"><a href="#cb4-10"></a></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co"># Konstanten deklarieren</span></span>
<span id="cb4-12"><a href="#cb4-12"></a>WIDTH, HEIGHT <span class="op">=</span> <span class="dv">720</span>, <span class="dv">520</span></span>
<span id="cb4-13"><a href="#cb4-13"></a>BG_WIDTH <span class="op">=</span> <span class="dv">1664</span></span>
<span id="cb4-14"><a href="#cb4-14"></a>TITLE <span class="op">=</span> <span class="st">"Pizza Plane Stage 4: Der grüne Flieger"</span></span>
<span id="cb4-15"><a href="#cb4-15"></a>FPS <span class="op">=</span> <span class="dv">60</span></span>
<span id="cb4-16"><a href="#cb4-16"></a>ANIM <span class="op">=</span> <span class="dv">4</span> <span class="co"># Animation cycle</span></span>
<span id="cb4-17"><a href="#cb4-17"></a>UPDOWN <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb4-18"><a href="#cb4-18"></a>NO_ENEMIES <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb4-19"><a href="#cb4-19"></a></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="co"># Farben</span></span>
<span id="cb4-21"><a href="#cb4-21"></a>BG_COLOR <span class="op">=</span> (<span class="dv">231</span>, <span class="dv">229</span>, <span class="dv">226</span>) <span class="co"># Wüstenhimmel</span></span>
<span id="cb4-22"><a href="#cb4-22"></a></span>
<span id="cb4-23"><a href="#cb4-23"></a><span class="co"># Objekte</span></span>
<span id="cb4-24"><a href="#cb4-24"></a><span class="kw">class</span> Background(pygame.sprite.Sprite):</span>
<span id="cb4-25"><a href="#cb4-25"></a>    </span>
<span id="cb4-26"><a href="#cb4-26"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _x, _y):</span>
<span id="cb4-27"><a href="#cb4-27"></a>        pygame.sprite.Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb4-28"><a href="#cb4-28"></a>        <span class="va">self</span>.x <span class="op">=</span> _x</span>
<span id="cb4-29"><a href="#cb4-29"></a>        <span class="va">self</span>.y <span class="op">=</span> _y</span>
<span id="cb4-30"><a href="#cb4-30"></a>        <span class="va">self</span>.start_x <span class="op">=</span> _x</span>
<span id="cb4-31"><a href="#cb4-31"></a>        <span class="va">self</span>.image <span class="op">=</span> pygame.image.load(os.path.join(DATAPATH,</span>
<span id="cb4-32"><a href="#cb4-32"></a>                     <span class="st">"desert.png"</span>))</span>
<span id="cb4-33"><a href="#cb4-33"></a>        <span class="va">self</span>.rect <span class="op">=</span> <span class="va">self</span>.image.get_rect()</span>
<span id="cb4-34"><a href="#cb4-34"></a>        </span>
<span id="cb4-35"><a href="#cb4-35"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb4-36"><a href="#cb4-36"></a>        <span class="va">self</span>.x <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb4-37"><a href="#cb4-37"></a>        <span class="co"># print(self.x)</span></span>
<span id="cb4-38"><a href="#cb4-38"></a>        <span class="va">self</span>.rect.x <span class="op">=</span> <span class="va">self</span>.x</span>
<span id="cb4-39"><a href="#cb4-39"></a>        <span class="cf">if</span> <span class="va">self</span>.x <span class="op">&lt;=</span> <span class="op">-</span>BG_WIDTH:</span>
<span id="cb4-40"><a href="#cb4-40"></a>            <span class="va">self</span>.x <span class="op">=</span> BG_WIDTH</span>
<span id="cb4-41"><a href="#cb4-41"></a></span>
<span id="cb4-42"><a href="#cb4-42"></a><span class="kw">class</span> Missile(pygame.sprite.Sprite):</span>
<span id="cb4-43"><a href="#cb4-43"></a>    </span>
<span id="cb4-44"><a href="#cb4-44"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _x, _y):</span>
<span id="cb4-45"><a href="#cb4-45"></a>        pygame.sprite.Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb4-46"><a href="#cb4-46"></a>        <span class="va">self</span>.image <span class="op">=</span> pygame.image.load(os.path.join(DATAPATH,</span>
<span id="cb4-47"><a href="#cb4-47"></a>                     <span class="st">"missile.png"</span>))</span>
<span id="cb4-48"><a href="#cb4-48"></a>        <span class="va">self</span>.rect <span class="op">=</span> <span class="va">self</span>.image.get_rect()</span>
<span id="cb4-49"><a href="#cb4-49"></a>        <span class="va">self</span>.rect.x <span class="op">=</span> _x</span>
<span id="cb4-50"><a href="#cb4-50"></a>        <span class="va">self</span>.rect.y <span class="op">=</span> _y</span>
<span id="cb4-51"><a href="#cb4-51"></a>        <span class="va">self</span>.speed <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb4-52"><a href="#cb4-52"></a>        </span>
<span id="cb4-53"><a href="#cb4-53"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb4-54"><a href="#cb4-54"></a>        <span class="va">self</span>.rect.x <span class="op">+=</span> <span class="va">self</span>.speed</span>
<span id="cb4-55"><a href="#cb4-55"></a>        <span class="cf">for</span> enemy <span class="kw">in</span> enemies:</span>
<span id="cb4-56"><a href="#cb4-56"></a>            <span class="cf">if</span> pygame.sprite.collide_rect(enemy, <span class="va">self</span>):</span>
<span id="cb4-57"><a href="#cb4-57"></a>                <span class="va">self</span>.kill()</span>
<span id="cb4-58"><a href="#cb4-58"></a>                <span class="co"># enemy.kill()</span></span>
<span id="cb4-59"><a href="#cb4-59"></a>                e_x, e_y <span class="op">=</span> enemy.rect.x, enemy.rect.y <span class="op">-</span> <span class="dv">5</span></span>
<span id="cb4-60"><a href="#cb4-60"></a>                enemy.reset()</span>
<span id="cb4-61"><a href="#cb4-61"></a>                hit <span class="op">=</span> Explosion(e_x, e_y)</span>
<span id="cb4-62"><a href="#cb4-62"></a>                all_sprites.add(hit)</span>
<span id="cb4-63"><a href="#cb4-63"></a>                plane.score <span class="op">+=</span> <span class="dv">10</span></span>
<span id="cb4-64"><a href="#cb4-64"></a>        <span class="cf">if</span> <span class="va">self</span>.rect.x <span class="op">&gt;=</span> WIDTH <span class="op">+</span> <span class="dv">20</span>:</span>
<span id="cb4-65"><a href="#cb4-65"></a>            <span class="va">self</span>.kill()</span>
<span id="cb4-66"><a href="#cb4-66"></a></span>
<span id="cb4-67"><a href="#cb4-67"></a><span class="kw">class</span> Explosion(pygame.sprite.Sprite):</span>
<span id="cb4-68"><a href="#cb4-68"></a>    </span>
<span id="cb4-69"><a href="#cb4-69"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _x, _y):</span>
<span id="cb4-70"><a href="#cb4-70"></a>        pygame.sprite.Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb4-71"><a href="#cb4-71"></a>        <span class="va">self</span>.image <span class="op">=</span> pygame.image.load(os.path.join(DATAPATH,</span>
<span id="cb4-72"><a href="#cb4-72"></a>                     <span class="st">"explosion.png"</span>))</span>
<span id="cb4-73"><a href="#cb4-73"></a>        <span class="va">self</span>.rect <span class="op">=</span> <span class="va">self</span>.image.get_rect()</span>
<span id="cb4-74"><a href="#cb4-74"></a>        <span class="va">self</span>.rect.x <span class="op">=</span> _x</span>
<span id="cb4-75"><a href="#cb4-75"></a>        <span class="va">self</span>.rect.y <span class="op">=</span> _y</span>
<span id="cb4-76"><a href="#cb4-76"></a>        <span class="va">self</span>.timer <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb4-77"><a href="#cb4-77"></a>        </span>
<span id="cb4-78"><a href="#cb4-78"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb4-79"><a href="#cb4-79"></a>        <span class="va">self</span>.timer <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb4-80"><a href="#cb4-80"></a>        <span class="cf">if</span> <span class="va">self</span>.timer <span class="op">&lt;=</span> <span class="dv">0</span>:</span>
<span id="cb4-81"><a href="#cb4-81"></a>            <span class="va">self</span>.kill()        </span>
<span id="cb4-82"><a href="#cb4-82"></a></span>
<span id="cb4-83"><a href="#cb4-83"></a><span class="kw">class</span>  Plane(pygame.sprite.Sprite):</span>
<span id="cb4-84"><a href="#cb4-84"></a>    </span>
<span id="cb4-85"><a href="#cb4-85"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb4-86"><a href="#cb4-86"></a>        pygame.sprite.Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb4-87"><a href="#cb4-87"></a>        <span class="co"># Load Images</span></span>
<span id="cb4-88"><a href="#cb4-88"></a>        <span class="va">self</span>.images <span class="op">=</span> []</span>
<span id="cb4-89"><a href="#cb4-89"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span> (<span class="dv">2</span>):</span>
<span id="cb4-90"><a href="#cb4-90"></a>            img <span class="op">=</span> pygame.image.load(os.path.join(DATAPATH,</span>
<span id="cb4-91"><a href="#cb4-91"></a>                  <span class="ss">f"planegreen_</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">.png"</span>))</span>
<span id="cb4-92"><a href="#cb4-92"></a>            <span class="va">self</span>.images.append(img)</span>
<span id="cb4-93"><a href="#cb4-93"></a>        <span class="va">self</span>.image <span class="op">=</span> <span class="va">self</span>.images[<span class="dv">0</span>]</span>
<span id="cb4-94"><a href="#cb4-94"></a>        <span class="va">self</span>.rect <span class="op">=</span> <span class="va">self</span>.image.get_rect()</span>
<span id="cb4-95"><a href="#cb4-95"></a>        <span class="va">self</span>.x <span class="op">=</span> <span class="dv">75</span></span>
<span id="cb4-96"><a href="#cb4-96"></a>        <span class="va">self</span>.y <span class="op">=</span> <span class="dv">250</span></span>
<span id="cb4-97"><a href="#cb4-97"></a>        <span class="va">self</span>.frame <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-98"><a href="#cb4-98"></a>        <span class="va">self</span>.ani <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb4-99"><a href="#cb4-99"></a>        <span class="va">self</span>.<span class="bu">dir</span> <span class="op">=</span> <span class="st">"NONE"</span></span>
<span id="cb4-100"><a href="#cb4-100"></a>        <span class="va">self</span>.firecount <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-101"><a href="#cb4-101"></a>        <span class="va">self</span>.score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-102"><a href="#cb4-102"></a>        <span class="va">self</span>.lives <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb4-103"><a href="#cb4-103"></a>    </span>
<span id="cb4-104"><a href="#cb4-104"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb4-105"><a href="#cb4-105"></a>        <span class="cf">if</span> <span class="va">self</span>.<span class="bu">dir</span> <span class="op">==</span> <span class="st">"NONE"</span>:</span>
<span id="cb4-106"><a href="#cb4-106"></a>            <span class="va">self</span>.y <span class="op">+=</span> <span class="dv">0</span></span>
<span id="cb4-107"><a href="#cb4-107"></a>        <span class="cf">elif</span> <span class="va">self</span>.<span class="bu">dir</span> <span class="op">==</span> <span class="st">"UP"</span>:</span>
<span id="cb4-108"><a href="#cb4-108"></a>            <span class="cf">if</span> <span class="va">self</span>.y <span class="op">&gt;</span> <span class="dv">20</span>:</span>
<span id="cb4-109"><a href="#cb4-109"></a>                <span class="va">self</span>.y <span class="op">-=</span> UPDOWN</span>
<span id="cb4-110"><a href="#cb4-110"></a>        <span class="cf">elif</span> <span class="va">self</span>.<span class="bu">dir</span> <span class="op">==</span> <span class="st">"DOWN"</span>:</span>
<span id="cb4-111"><a href="#cb4-111"></a>            <span class="cf">if</span> <span class="va">self</span>.y <span class="op">&lt;</span> HEIGHT <span class="op">-</span> <span class="dv">20</span>:</span>
<span id="cb4-112"><a href="#cb4-112"></a>                <span class="va">self</span>.y <span class="op">+=</span> UPDOWN</span>
<span id="cb4-113"><a href="#cb4-113"></a>        <span class="va">self</span>.rect.center <span class="op">=</span> (<span class="va">self</span>.x, <span class="va">self</span>.y)</span>
<span id="cb4-114"><a href="#cb4-114"></a>        <span class="cf">for</span> enemy <span class="kw">in</span> enemies:</span>
<span id="cb4-115"><a href="#cb4-115"></a>            <span class="cf">if</span> pygame.sprite.collide_rect(<span class="va">self</span>, enemy):</span>
<span id="cb4-116"><a href="#cb4-116"></a>                enemy.reset()</span>
<span id="cb4-117"><a href="#cb4-117"></a>                <span class="va">self</span>.lives <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb4-118"><a href="#cb4-118"></a>                <span class="cf">if</span> <span class="va">self</span>.lives <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb4-119"><a href="#cb4-119"></a>                    <span class="bu">print</span>(<span class="st">"Verloren!"</span>)</span>
<span id="cb4-120"><a href="#cb4-120"></a>                    pygame.quit()</span>
<span id="cb4-121"><a href="#cb4-121"></a>                    <span class="cf">try</span>:</span>
<span id="cb4-122"><a href="#cb4-122"></a>                        sys.exit()</span>
<span id="cb4-123"><a href="#cb4-123"></a>                    <span class="cf">finally</span>:</span>
<span id="cb4-124"><a href="#cb4-124"></a>                        keep_going <span class="op">=</span> <span class="va">False</span></span>
<span id="cb4-125"><a href="#cb4-125"></a>        <span class="va">self</span>.ani <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb4-126"><a href="#cb4-126"></a>        <span class="cf">if</span> <span class="va">self</span>.ani <span class="op">&gt;=</span> ANIM:</span>
<span id="cb4-127"><a href="#cb4-127"></a>            <span class="va">self</span>.ani <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-128"><a href="#cb4-128"></a>            <span class="va">self</span>.frame <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb4-129"><a href="#cb4-129"></a>            <span class="cf">if</span> <span class="va">self</span>.frame <span class="op">&gt;</span> <span class="dv">1</span>:</span>
<span id="cb4-130"><a href="#cb4-130"></a>                <span class="va">self</span>.frame <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-131"><a href="#cb4-131"></a>        <span class="va">self</span>.firecount <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb4-132"><a href="#cb4-132"></a>        <span class="va">self</span>.image <span class="op">=</span> <span class="va">self</span>.images[<span class="va">self</span>.frame]</span>
<span id="cb4-133"><a href="#cb4-133"></a>        </span>
<span id="cb4-134"><a href="#cb4-134"></a>    <span class="kw">def</span> fire(<span class="va">self</span>):</span>
<span id="cb4-135"><a href="#cb4-135"></a>        <span class="cf">if</span> <span class="va">self</span>.firecount <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb4-136"><a href="#cb4-136"></a>            missile <span class="op">=</span> Missile(<span class="va">self</span>.x <span class="op">+</span> <span class="dv">15</span>, <span class="va">self</span>.y)</span>
<span id="cb4-137"><a href="#cb4-137"></a>            all_sprites.add(missile)</span>
<span id="cb4-138"><a href="#cb4-138"></a>            <span class="va">self</span>.firecount <span class="op">=</span> <span class="dv">15</span></span>
<span id="cb4-139"><a href="#cb4-139"></a></span>
<span id="cb4-140"><a href="#cb4-140"></a><span class="kw">class</span> Enemy(pygame.sprite.Sprite):</span>
<span id="cb4-141"><a href="#cb4-141"></a>    </span>
<span id="cb4-142"><a href="#cb4-142"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _x, _y):</span>
<span id="cb4-143"><a href="#cb4-143"></a>        pygame.sprite.Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb4-144"><a href="#cb4-144"></a>        <span class="va">self</span>.image <span class="op">=</span> pygame.image.load(os.path.join(DATAPATH,</span>
<span id="cb4-145"><a href="#cb4-145"></a>                     <span class="st">"pizza.png"</span>))</span>
<span id="cb4-146"><a href="#cb4-146"></a>        <span class="va">self</span>.rect <span class="op">=</span> <span class="va">self</span>.image.get_rect()</span>
<span id="cb4-147"><a href="#cb4-147"></a>        <span class="va">self</span>.rect.x <span class="op">=</span> _x</span>
<span id="cb4-148"><a href="#cb4-148"></a>        <span class="va">self</span>.rect.y <span class="op">=</span> _y</span>
<span id="cb4-149"><a href="#cb4-149"></a>        <span class="va">self</span>.speed <span class="op">=</span> randint(<span class="dv">3</span>, <span class="dv">6</span>)</span>
<span id="cb4-150"><a href="#cb4-150"></a>        </span>
<span id="cb4-151"><a href="#cb4-151"></a>    <span class="kw">def</span> reset(<span class="va">self</span>):</span>
<span id="cb4-152"><a href="#cb4-152"></a>        <span class="va">self</span>.rect.x <span class="op">=</span> WIDTH <span class="op">+</span> randint(<span class="dv">30</span>, <span class="dv">100</span>)</span>
<span id="cb4-153"><a href="#cb4-153"></a>        <span class="va">self</span>.rect.y <span class="op">=</span> randint(<span class="dv">30</span>, HEIGHT <span class="op">-</span> <span class="dv">30</span>)</span>
<span id="cb4-154"><a href="#cb4-154"></a>        <span class="va">self</span>.speed <span class="op">=</span> randint(<span class="dv">3</span>, <span class="dv">6</span>)</span>
<span id="cb4-155"><a href="#cb4-155"></a>    </span>
<span id="cb4-156"><a href="#cb4-156"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb4-157"><a href="#cb4-157"></a>        <span class="va">self</span>.rect.x <span class="op">-=</span> <span class="va">self</span>.speed</span>
<span id="cb4-158"><a href="#cb4-158"></a>        <span class="cf">if</span> <span class="va">self</span>.rect.x <span class="op">&lt;</span> <span class="op">-</span><span class="dv">30</span>:</span>
<span id="cb4-159"><a href="#cb4-159"></a>            <span class="va">self</span>.reset()</span>
<span id="cb4-160"><a href="#cb4-160"></a>            plane.score <span class="op">-=</span> <span class="dv">2</span></span>
<span id="cb4-161"><a href="#cb4-161"></a>            <span class="cf">if</span> plane.score <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb4-162"><a href="#cb4-162"></a>                <span class="bu">print</span>(<span class="st">"Zu viele Pizzas entkommen lassen!"</span>)</span>
<span id="cb4-163"><a href="#cb4-163"></a>                pygame.quit()</span>
<span id="cb4-164"><a href="#cb4-164"></a>                <span class="cf">try</span>:</span>
<span id="cb4-165"><a href="#cb4-165"></a>                    sys.exit()</span>
<span id="cb4-166"><a href="#cb4-166"></a>                <span class="cf">finally</span>:</span>
<span id="cb4-167"><a href="#cb4-167"></a>                    keep_going <span class="op">=</span> <span class="va">False</span></span>
<span id="cb4-168"><a href="#cb4-168"></a></span>
<span id="cb4-169"><a href="#cb4-169"></a><span class="kw">class</span> HUD():</span>
<span id="cb4-170"><a href="#cb4-170"></a>    </span>
<span id="cb4-171"><a href="#cb4-171"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb4-172"><a href="#cb4-172"></a>        <span class="va">self</span>.score_x <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb4-173"><a href="#cb4-173"></a>        <span class="va">self</span>.score_y <span class="op">=</span> <span class="dv">15</span></span>
<span id="cb4-174"><a href="#cb4-174"></a>        <span class="va">self</span>.heart_x <span class="op">=</span> <span class="dv">250</span></span>
<span id="cb4-175"><a href="#cb4-175"></a>        <span class="va">self</span>.heart_y <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb4-176"><a href="#cb4-176"></a>        <span class="co"># Load Fonts</span></span>
<span id="cb4-177"><a href="#cb4-177"></a>        <span class="va">self</span>.score_font <span class="op">=</span> pygame.font.Font(os.path.join(FONTPATH,</span>
<span id="cb4-178"><a href="#cb4-178"></a>                          <span class="st">"RubikGemstones-Regular.ttf"</span>), <span class="dv">25</span>)</span>
<span id="cb4-179"><a href="#cb4-179"></a>        <span class="va">self</span>.score <span class="op">=</span> <span class="st">""</span></span>
<span id="cb4-180"><a href="#cb4-180"></a>        <span class="co"># Load Hearts</span></span>
<span id="cb4-181"><a href="#cb4-181"></a>        <span class="va">self</span>.score_live <span class="op">=</span> <span class="st">"Lifes :"</span> </span>
<span id="cb4-182"><a href="#cb4-182"></a>        <span class="va">self</span>.heart_img <span class="op">=</span> pygame.image.load(os.path.join(DATAPATH,</span>
<span id="cb4-183"><a href="#cb4-183"></a>                         <span class="st">"heart.png"</span>))</span>
<span id="cb4-184"><a href="#cb4-184"></a>        <span class="va">self</span>.heart_rect <span class="op">=</span> <span class="va">self</span>.heart_img.get_rect()</span>
<span id="cb4-185"><a href="#cb4-185"></a>        </span>
<span id="cb4-186"><a href="#cb4-186"></a>    <span class="kw">def</span> update(<span class="va">self</span>, points):</span>
<span id="cb4-187"><a href="#cb4-187"></a>        <span class="va">self</span>.score <span class="op">=</span> <span class="va">self</span>.score_font.render(<span class="ss">f"Score: </span><span class="sc">{</span>points<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb4-188"><a href="#cb4-188"></a>                     <span class="va">True</span>, (<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>))</span>
<span id="cb4-189"><a href="#cb4-189"></a>        <span class="va">self</span>.score_rect <span class="op">=</span> <span class="va">self</span>.score.get_rect()</span>
<span id="cb4-190"><a href="#cb4-190"></a>        <span class="va">self</span>.score_rect.x <span class="op">=</span> <span class="va">self</span>.score_x</span>
<span id="cb4-191"><a href="#cb4-191"></a>        <span class="va">self</span>.score_rect.y <span class="op">=</span> <span class="va">self</span>.score_y</span>
<span id="cb4-192"><a href="#cb4-192"></a>        <span class="va">self</span>.score_lives <span class="op">=</span> <span class="va">self</span>.score_font.render(<span class="st">"Lives: "</span>,</span>
<span id="cb4-193"><a href="#cb4-193"></a>                           <span class="va">True</span>, (<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>))</span>
<span id="cb4-194"><a href="#cb4-194"></a>        <span class="va">self</span>.score_lives_rect <span class="op">=</span> <span class="va">self</span>.score_lives.get_rect()</span>
<span id="cb4-195"><a href="#cb4-195"></a>        <span class="va">self</span>.score_lives_rect.x <span class="op">=</span> <span class="va">self</span>.heart_x</span>
<span id="cb4-196"><a href="#cb4-196"></a>        <span class="va">self</span>.score_lives_rect.y <span class="op">=</span> <span class="va">self</span>.score_y</span>
<span id="cb4-197"><a href="#cb4-197"></a>        </span>
<span id="cb4-198"><a href="#cb4-198"></a>           </span>
<span id="cb4-199"><a href="#cb4-199"></a><span class="co"># Pygame initialisieren und das Fenster</span></span>
<span id="cb4-200"><a href="#cb4-200"></a><span class="co"># und die Hintergrundfarbe festlegen</span></span>
<span id="cb4-201"><a href="#cb4-201"></a>clock <span class="op">=</span> pygame.time.Clock()</span>
<span id="cb4-202"><a href="#cb4-202"></a>pygame.init()</span>
<span id="cb4-203"><a href="#cb4-203"></a><span class="co"># Ein übler Hack, um die Position des Fensters</span></span>
<span id="cb4-204"><a href="#cb4-204"></a><span class="co"># auf meinen zweiten Bildschirm zu setzen,</span></span>
<span id="cb4-205"><a href="#cb4-205"></a><span class="co"># aber er funktioniert …</span></span>
<span id="cb4-206"><a href="#cb4-206"></a>os.environ[<span class="st">'SDL_VIDEO_WINDOW_POS'</span>] <span class="op">=</span> <span class="st">"</span><span class="sc">%d</span><span class="st">,</span><span class="sc">%d</span><span class="st">"</span> <span class="op">%</span> (<span class="dv">1320</span>, <span class="dv">60</span>)</span>
<span id="cb4-207"><a href="#cb4-207"></a>screen <span class="op">=</span> pygame.display.set_mode((WIDTH, HEIGHT))</span>
<span id="cb4-208"><a href="#cb4-208"></a>pygame.display.set_caption(TITLE)</span>
<span id="cb4-209"><a href="#cb4-209"></a></span>
<span id="cb4-210"><a href="#cb4-210"></a><span class="co"># Sprite-Gruppe(n)</span></span>
<span id="cb4-211"><a href="#cb4-211"></a>backs       <span class="op">=</span> pygame.sprite.Group()</span>
<span id="cb4-212"><a href="#cb4-212"></a>all_sprites <span class="op">=</span> pygame.sprite.Group()</span>
<span id="cb4-213"><a href="#cb4-213"></a>enemies     <span class="op">=</span> pygame.sprite.Group()</span>
<span id="cb4-214"><a href="#cb4-214"></a></span>
<span id="cb4-215"><a href="#cb4-215"></a><span class="co"># Hintergrund</span></span>
<span id="cb4-216"><a href="#cb4-216"></a>back1 <span class="op">=</span> Background(<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb4-217"><a href="#cb4-217"></a>back2 <span class="op">=</span> Background(BG_WIDTH, <span class="dv">0</span>)</span>
<span id="cb4-218"><a href="#cb4-218"></a>backs.add(back1)</span>
<span id="cb4-219"><a href="#cb4-219"></a>backs.add(back2)</span>
<span id="cb4-220"><a href="#cb4-220"></a></span>
<span id="cb4-221"><a href="#cb4-221"></a><span class="co"># Head Up Display</span></span>
<span id="cb4-222"><a href="#cb4-222"></a>hud <span class="op">=</span> HUD()</span>
<span id="cb4-223"><a href="#cb4-223"></a></span>
<span id="cb4-224"><a href="#cb4-224"></a><span class="co"># Die Gegner</span></span>
<span id="cb4-225"><a href="#cb4-225"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(NO_ENEMIES):</span>
<span id="cb4-226"><a href="#cb4-226"></a>    pizza <span class="op">=</span> Enemy(WIDTH <span class="op">+</span> randint(<span class="dv">30</span>, <span class="dv">100</span>), randint(<span class="dv">30</span>, HEIGHT <span class="op">-</span> <span class="dv">30</span>))</span>
<span id="cb4-227"><a href="#cb4-227"></a>    all_sprites.add(pizza)</span>
<span id="cb4-228"><a href="#cb4-228"></a>    enemies.add(pizza)</span>
<span id="cb4-229"><a href="#cb4-229"></a></span>
<span id="cb4-230"><a href="#cb4-230"></a><span class="co"># Der Flieger</span></span>
<span id="cb4-231"><a href="#cb4-231"></a>plane <span class="op">=</span> Plane()</span>
<span id="cb4-232"><a href="#cb4-232"></a>all_sprites.add(plane)</span>
<span id="cb4-233"><a href="#cb4-233"></a></span>
<span id="cb4-234"><a href="#cb4-234"></a>keep_going <span class="op">=</span> <span class="va">True</span></span>
<span id="cb4-235"><a href="#cb4-235"></a><span class="cf">while</span> keep_going:</span>
<span id="cb4-236"><a href="#cb4-236"></a>    </span>
<span id="cb4-237"><a href="#cb4-237"></a>    clock.tick(FPS)</span>
<span id="cb4-238"><a href="#cb4-238"></a>    <span class="cf">for</span> event <span class="kw">in</span> pygame.event.get():</span>
<span id="cb4-239"><a href="#cb4-239"></a>        <span class="cf">if</span> ((event.<span class="bu">type</span> <span class="op">==</span> pygame.QUIT)</span>
<span id="cb4-240"><a href="#cb4-240"></a>            <span class="kw">or</span> (event.<span class="bu">type</span> <span class="op">==</span> pygame.KEYDOWN <span class="kw">and</span></span>
<span id="cb4-241"><a href="#cb4-241"></a>                event.key <span class="op">==</span> pygame.K_ESCAPE)):</span>
<span id="cb4-242"><a href="#cb4-242"></a>            <span class="bu">print</span>(<span class="st">"Bye, Bye, Baby!"</span>)</span>
<span id="cb4-243"><a href="#cb4-243"></a>            pygame.quit()</span>
<span id="cb4-244"><a href="#cb4-244"></a>            <span class="cf">try</span>:</span>
<span id="cb4-245"><a href="#cb4-245"></a>                sys.exit()</span>
<span id="cb4-246"><a href="#cb4-246"></a>            <span class="cf">finally</span>:</span>
<span id="cb4-247"><a href="#cb4-247"></a>                keep_going <span class="op">=</span> <span class="va">False</span></span>
<span id="cb4-248"><a href="#cb4-248"></a>                </span>
<span id="cb4-249"><a href="#cb4-249"></a>        <span class="cf">if</span> event.<span class="bu">type</span> <span class="op">==</span> pygame.KEYDOWN:</span>
<span id="cb4-250"><a href="#cb4-250"></a>            <span class="cf">if</span> event.key <span class="op">==</span> pygame.K_UP:</span>
<span id="cb4-251"><a href="#cb4-251"></a>                plane.<span class="bu">dir</span> <span class="op">=</span> <span class="st">"UP"</span></span>
<span id="cb4-252"><a href="#cb4-252"></a>            <span class="cf">elif</span> event.key <span class="op">==</span> pygame.K_DOWN:</span>
<span id="cb4-253"><a href="#cb4-253"></a>                plane.<span class="bu">dir</span> <span class="op">=</span> <span class="st">"DOWN"</span></span>
<span id="cb4-254"><a href="#cb4-254"></a>            <span class="cf">if</span> event.key <span class="op">==</span> pygame.K_RIGHT:</span>
<span id="cb4-255"><a href="#cb4-255"></a>                plane.fire()</span>
<span id="cb4-256"><a href="#cb4-256"></a>                </span>
<span id="cb4-257"><a href="#cb4-257"></a>        <span class="cf">if</span> event.<span class="bu">type</span> <span class="op">==</span> pygame.KEYUP:</span>
<span id="cb4-258"><a href="#cb4-258"></a>            plane.<span class="bu">dir</span> <span class="op">=</span> <span class="st">"NONE"</span></span>
<span id="cb4-259"><a href="#cb4-259"></a></span>
<span id="cb4-260"><a href="#cb4-260"></a>    backs.update()</span>
<span id="cb4-261"><a href="#cb4-261"></a>    backs.draw(screen)</span>
<span id="cb4-262"><a href="#cb4-262"></a>    all_sprites.update()</span>
<span id="cb4-263"><a href="#cb4-263"></a>    all_sprites.draw(screen)</span>
<span id="cb4-264"><a href="#cb4-264"></a>    hud.update(plane.score)</span>
<span id="cb4-265"><a href="#cb4-265"></a>    screen.blit(hud.score, hud.score_rect)</span>
<span id="cb4-266"><a href="#cb4-266"></a>    screen.blit(hud.score_lives,</span>
<span id="cb4-267"><a href="#cb4-267"></a>            (hud.score_lives_rect.x, hud.score_lives_rect.y))</span>
<span id="cb4-268"><a href="#cb4-268"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(plane.lives):</span>
<span id="cb4-269"><a href="#cb4-269"></a>        hud.heart_rect.x <span class="op">=</span> <span class="op">\</span></span>
<span id="cb4-270"><a href="#cb4-270"></a>            hud.score_lives_rect.right <span class="op">+</span> <span class="dv">10</span> <span class="op">+</span> <span class="op">\</span></span>
<span id="cb4-271"><a href="#cb4-271"></a>            i<span class="op">*</span>(hud.heart_img.get_width() <span class="op">+</span> <span class="dv">10</span>)</span>
<span id="cb4-272"><a href="#cb4-272"></a>        screen.blit(hud.heart_img, (hud.heart_rect.x,</span>
<span id="cb4-273"><a href="#cb4-273"></a>                    hud.heart_y))</span>
<span id="cb4-274"><a href="#cb4-274"></a>    pygame.display.update()</span>
<span id="cb4-275"><a href="#cb4-275"></a>    pygame.display.flip()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Natürlich gibt es den <a href="https://github.com/kantel/pygameprojects/blob/master/pizzaplane/pizzaplane04.py">Quellcode</a> mit allen <a href="https://github.com/kantel/pygameprojects/tree/master/pizzaplane/data">Assets</a> auch wieder in meinem GitHub-Repositorium.</p>
<p>Mit knapp 300 Zeilen hat das Programm mittlerweile schon einen beachtlichen Umfang erreicht. Ich glaube, so ein langes Python-Skript hatte ich schon seit Jahren nicht mehr im <em>Schockwellenreiter</em>. Und es werden sicher noch ein paar Zeilen hinzukommen.</p>
<p>Zur Übersicht die bisher erschienenen Beiträge:</p>
<ol type="1">
<li><a href="https://kantel.github.io/posts/20221222501_pizzaplane1_pygame/">Auf ein neues: Pizzaplane in Pygame (Stage 1)</a></li>
<li><a href="https://kantel.github.io/posts/20221222601_pizzaplane2_pygame/">Jetzt mit Killer-Pizzas: Pizzaplane in Pygame</a> (Stage 2)</li>
<li><a href="https://kantel.github.io/posts/2022123101_pizzaplane3/">Pizzaplane Stage 3: Jetzt mit Punktestand!</a></li>
<li>Pizzaplane Stage 4 – jetzt mit grünem Spieler</li>
</ol>
<p>Fortsetzung folgt …</p>




<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Fußnoten</h2>

<ol>
<li id="fn1"><p>Das »grün« ist übrigens <strong>keine</strong> politische Anspielung.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Das Video ist Teil der Playlist <a href="https://www.youtube.com/playlist?list=PLUeL14cPSfS4_WXayc6MEvnIyoct4D5qI">Pygame</a> von <em>Click Clack Code</em>. Zwölf halb- bis einstündige Videos nur mit Code und den Ergebnissen, ohne Gequatsche dazwischen. Sehr zu empfehlen!<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Die Herzchen sind ebenfalls eine freie (CC0) Graphik von <a href="https://opengameart.org/content/shining-coin-shining-health-shining-power-up-sprite-sheets">OpenGameArt.org</a> und ich habe sie auch in dem oben genannten Video entdeckt. Sie können animiert werden. Diese Animation habe ich auf meine ToDo-Liste gesetzt.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Ich habe übrigens für diese Fassung erstmalig Pythons neue <a href="https://realpython.com/python-f-strings/">f-String-Syntax</a> genutzt und frage mich, wie ich vorher ohne sie auskommen konnte. Sie macht alles so viel einfacher.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="kantel/kantel.github.io" data-repo-id="R_kgDOIjiXMQ" data-category="General" data-category-id="DIC_kwDOIjiXMc4CS_hh" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>