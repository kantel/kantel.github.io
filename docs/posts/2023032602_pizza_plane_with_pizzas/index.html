<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jörg Kantel">

<title>Der Schockwellenreiter - Weiter mit dem kleinen, grünen Flieger auf Trinket: Jetzt mit Pizzas</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken"
  }
}</script>
<script data-goatcounter="https://kantel.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Der Schockwellenreiter</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">Über den Schockwellenreiter</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kantel/kantel.github.io"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://mastodon.social/@kantel"><i class="bi bi-mastodon" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Weiter mit dem kleinen, grünen Flieger auf Trinket: Jetzt mit Pizzas</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Python</div>
    <div class="quarto-category">Processing</div>
    <div class="quarto-category">Spieleprogrammierung</div>
    <div class="quarto-category">Trinket</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor:in</div>
    <div class="quarto-title-meta-contents">
             <p>Jörg Kantel </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Veröffentlichungsdatum</div>
    <div class="quarto-title-meta-contents">
      <p class="date">26. März 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.flickr.com/photos/schockwellenreiter/52770799214/"><img src="images/pizzaplanestage3-b.jpg" class="img-fluid figure-img"></a></p>
</figure>
</div>
<p>Mit der Portierung meines <a href="https://kantel.github.io/posts/2023032301_pizza_plane_oop_trinket_stage_1/">kleinen, grünen Fliegers</a> von <a href="http://cognitiones.kantel-chaos-team.de/multimedia/spieleprogrammierung/pygame.html">Pygame</a> nach <a href="http://cognitiones.kantel-chaos-team.de/programmierung/python/trinket.html">Trinket</a> (in der <a href="https://kantel.github.io/posts/2023021601_my_first_trinket/">Processing.py-Variante</a>) bin ich ein gutes Stück vorangekommen. Ich habe dem Flieger Pizzas als Gegner spendiert (denn was ist ein Pizzaflieger ohne Pizzas? Nur ein simples Flugzeug) und Waffen, um diese Pizzen abzuschießen. Doch der Reihe nach:</p>
<iframe src="https://trinket.io/embed/python/3ae6ef087c?outputOnly=true&amp;runOption=run&amp;start=result" width="95%" height="700" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen="">
</iframe>
<p>Getreu dem Motto »Don’t repeat Yourself« habe ich eine Oberklasse <code>Sprite()</code> implementiert, denn jede (Unter-) Klasse hatte ihre eigene, identische <code>display()</code>-Methode:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">## Oberklasse für alles, was sich bewegt</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">class</span> Sprite():</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb1-5"><a href="#cb1-5"></a>    <span class="cf">pass</span></span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a>  <span class="kw">def</span> display(<span class="va">self</span>):</span>
<span id="cb1-8"><a href="#cb1-8"></a>    image(<span class="va">self</span>.img, <span class="va">self</span>.x, <span class="va">self</span>.y)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Und weil ich gerade dabei war, bekam diese Klasse auch noch eine Methode (<code>collide_rect()</code>) zur Kollisionskerkennung verpaßt. Zwar wird diese momentan nur von der Klasse <code>Missile()</code> (siehe weiter unten) aufgerufen, aber in einer späteren Version soll auch der Flieger erkennen, ob er mit einer Pizza (oder anderen Gegnern) kollidiert, und dann benötigt er diese Methode ebenfalls:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a>  <span class="kw">def</span> collide_rect(<span class="va">self</span>, other):</span>
<span id="cb2-2"><a href="#cb2-2"></a>    distance_x <span class="op">=</span> (<span class="va">self</span>.x <span class="op">+</span> <span class="va">self</span>.w<span class="op">/</span><span class="dv">2</span>) <span class="op">-</span> (other.x <span class="op">+</span> other.w<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a>    distance_y <span class="op">=</span> (<span class="va">self</span>.y <span class="op">+</span> <span class="va">self</span>.h<span class="op">/</span><span class="dv">2</span>) <span class="op">-</span> (other.y <span class="op">+</span> other.h<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb2-4"><a href="#cb2-4"></a>    half_w <span class="op">=</span> <span class="va">self</span>.w<span class="op">/</span><span class="dv">2</span> <span class="op">+</span> other.w<span class="op">/</span><span class="dv">2</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>    half_h <span class="op">=</span> <span class="va">self</span>.h<span class="op">/</span><span class="dv">2</span> <span class="op">+</span> other.h<span class="op">/</span><span class="dv">2</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="cf">if</span> (<span class="bu">abs</span>(distance_x) <span class="op">&lt;</span> half_w):</span>
<span id="cb2-7"><a href="#cb2-7"></a>      <span class="cf">if</span> (<span class="bu">abs</span>(distance_y) <span class="op">&lt;</span> half_h):</span>
<span id="cb2-8"><a href="#cb2-8"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="cf">return</span> <span class="va">False</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Diese Methode und ihre Implementierung hatte ich schon im November 2019 für <a href="http://cognitiones.kantel-chaos-team.de/programmierung/creativecoding/processing/processingpy.html">Processing.py</a> und <a href="http://cognitiones.kantel-chaos-team.de/programmierung/creativecoding/processing/p5js.html">P5.js</a> ausführlich <a href="http://blog.schockwellenreiter.de/2019/11/2019112002.html">vorgestellt</a> (im Anschluß an einen Beitrag zur <a href="http://blog.schockwellenreiter.de/2019/11/2019111103.html">Kollisionserkennung zweier Kreise</a>).</p>
<p>Ein Flieger, der Pizzas abschießen will, braucht natürlich Geschosse. Diese werden durch die Klasse <code>Missile()</code> repräsentiert:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">class</span> Missile(Sprite):</span>
<span id="cb3-2"><a href="#cb3-2"></a>  </span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _x, _y):</span>
<span id="cb3-4"><a href="#cb3-4"></a>    Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="va">self</span>.img <span class="op">=</span> loadImage(<span class="st">"missile.png"</span>)</span>
<span id="cb3-6"><a href="#cb3-6"></a>    <span class="va">self</span>.x <span class="op">=</span> _x</span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="va">self</span>.y <span class="op">=</span> _y</span>
<span id="cb3-8"><a href="#cb3-8"></a>    <span class="va">self</span>.w <span class="op">=</span> <span class="dv">19</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>    <span class="va">self</span>.h <span class="op">=</span> <span class="dv">7</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>    <span class="va">self</span>.speed <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb3-11"><a href="#cb3-11"></a>  </span>
<span id="cb3-12"><a href="#cb3-12"></a>  <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb3-13"><a href="#cb3-13"></a>    <span class="va">self</span>.x <span class="op">+=</span> <span class="va">self</span>.speed</span>
<span id="cb3-14"><a href="#cb3-14"></a>    <span class="cf">for</span> enemy <span class="kw">in</span> enemies:</span>
<span id="cb3-15"><a href="#cb3-15"></a>      <span class="cf">if</span> <span class="va">self</span>.collide_rect(enemy):</span>
<span id="cb3-16"><a href="#cb3-16"></a>        missiles.remove(<span class="va">self</span>)</span>
<span id="cb3-17"><a href="#cb3-17"></a>        <span class="co"># Enemy Explosion</span></span>
<span id="cb3-18"><a href="#cb3-18"></a>        e_x, e_y <span class="op">=</span> enemy.x, enemy.y <span class="op">-</span> <span class="dv">5</span></span>
<span id="cb3-19"><a href="#cb3-19"></a>        enemy.reset()</span>
<span id="cb3-20"><a href="#cb3-20"></a>        hit <span class="op">=</span> Explosion(e_x, e_y)</span>
<span id="cb3-21"><a href="#cb3-21"></a>        hits.append(hit)</span>
<span id="cb3-22"><a href="#cb3-22"></a>    <span class="cf">if</span> <span class="va">self</span>.x <span class="op">&gt;=</span> width <span class="op">+</span> <span class="dv">20</span>:</span>
<span id="cb3-23"><a href="#cb3-23"></a>      missiles.remove(<span class="va">self</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Diese Geschosse leben entweder so lange, bis sie rechts den Bildschirm verlassen oder auf eine Pizza treffen. Wenn solch ein Geschoß auf eine Pizza trifft, löst es eine Explosion aus. Diese besitzt natürlich eine eigene Klasse:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">class</span> Explosion(Sprite):</span>
<span id="cb4-2"><a href="#cb4-2"></a>  </span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _x, _y):</span>
<span id="cb4-4"><a href="#cb4-4"></a>    Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a>    <span class="va">self</span>.img <span class="op">=</span> loadImage(<span class="st">"explosion.png"</span>)</span>
<span id="cb4-6"><a href="#cb4-6"></a>    <span class="va">self</span>.x <span class="op">=</span> _x</span>
<span id="cb4-7"><a href="#cb4-7"></a>    <span class="va">self</span>.y <span class="op">=</span> _y</span>
<span id="cb4-8"><a href="#cb4-8"></a>    <span class="va">self</span>.w <span class="op">=</span> <span class="dv">38</span></span>
<span id="cb4-9"><a href="#cb4-9"></a>    <span class="va">self</span>.h <span class="op">=</span> <span class="dv">38</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>    <span class="va">self</span>.timer <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb4-11"><a href="#cb4-11"></a>    </span>
<span id="cb4-12"><a href="#cb4-12"></a>  <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb4-13"><a href="#cb4-13"></a>    <span class="va">self</span>.timer <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb4-14"><a href="#cb4-14"></a>    <span class="cf">if</span> <span class="va">self</span>.timer <span class="op">&lt;=</span> <span class="dv">0</span>:</span>
<span id="cb4-15"><a href="#cb4-15"></a>      hits.remove(<span class="va">self</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Auch eine Explosion hat natürlich nur eine begrenzte Lebensdauer. Diese wird durch die Variable <code>timer</code> gesteuert, die von einem Startwert aus zurückgezählt wird. Wird der <code>timer</code> kleiner oder gleich Null, ist das Leben der Explosion beendet.</p>
<p>Die Instanzen der Klassen <code>Missile()</code> und <code>Explosion()</code> besitzen noch eine weitere Besonderheit. Sie werden nicht in der Hauptschleife des Programms initialisiert, sondern ein Geschoß wird von der Instanz der Klasse <code>Plane()</code> instanziert, wenn der Spieler die mittlere Maustaste drückt:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a>  <span class="kw">def</span> fire(<span class="va">self</span>):</span>
<span id="cb5-2"><a href="#cb5-2"></a>    <span class="cf">if</span> <span class="va">self</span>.firecount <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb5-3"><a href="#cb5-3"></a>      missile <span class="op">=</span> Missile(<span class="va">self</span>.x <span class="op">+</span> <span class="dv">20</span>, <span class="va">self</span>.y <span class="op">+</span> <span class="dv">20</span>)</span>
<span id="cb5-4"><a href="#cb5-4"></a>      missiles.append(missile)</span>
<span id="cb5-5"><a href="#cb5-5"></a>      <span class="va">self</span>.firecount <span class="op">=</span> MAX_FIRECOUNT</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Um den Spieler am Dauerfeuer zu hindern, kann ein neues Geschoß erst dann wieder abgefeuert werden, wenn die Variable <code>firecount</code>, die nach jedem Schuß auf <code>MAX_FIRECOUNT</code>gesetzt und in jeder Programmschleife um Eins zurückgezählt wird, wieder kleiner oder gleich Null ist.</p>
<p>Und eine Explosion wird in dieser Version von der Klasse <code>Missile()</code> ausgelöst, wenn diese einen Gegner trifft<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
<p><em>Last but not least</em> braucht ein Spiel natürlich Gegner. Diese werden durch die Klasse <code>Enemy()</code> repräsentiert, die beim derzeitigen Stand des Spiels nur pöse Pizzen erzeugt:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">class</span> Enemy(Sprite):</span>
<span id="cb6-2"><a href="#cb6-2"></a>  </span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _x, _y):</span>
<span id="cb6-4"><a href="#cb6-4"></a>    Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb6-5"><a href="#cb6-5"></a>    <span class="va">self</span>.img <span class="op">=</span> loadImage(<span class="st">"pizza.png"</span>)</span>
<span id="cb6-6"><a href="#cb6-6"></a>    <span class="va">self</span>.x <span class="op">=</span> _x</span>
<span id="cb6-7"><a href="#cb6-7"></a>    <span class="va">self</span>.y <span class="op">=</span> _y</span>
<span id="cb6-8"><a href="#cb6-8"></a>    <span class="va">self</span>.w <span class="op">=</span> <span class="dv">36</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>    <span class="va">self</span>.h <span class="op">=</span> <span class="dv">36</span></span>
<span id="cb6-10"><a href="#cb6-10"></a>    <span class="va">self</span>.speed <span class="op">=</span> randint(<span class="dv">3</span>, <span class="dv">6</span>)</span>
<span id="cb6-11"><a href="#cb6-11"></a>    </span>
<span id="cb6-12"><a href="#cb6-12"></a>  <span class="kw">def</span> reset(<span class="va">self</span>):</span>
<span id="cb6-13"><a href="#cb6-13"></a>    <span class="va">self</span>.x <span class="op">=</span> width <span class="op">+</span> randint(<span class="dv">30</span>, <span class="dv">100</span>)</span>
<span id="cb6-14"><a href="#cb6-14"></a>    <span class="va">self</span>.y <span class="op">=</span> randint(<span class="dv">30</span>, height <span class="op">-</span> <span class="dv">30</span>)</span>
<span id="cb6-15"><a href="#cb6-15"></a>    <span class="va">self</span>.speed <span class="op">=</span> randint(<span class="dv">3</span>, <span class="dv">6</span>)</span>
<span id="cb6-16"><a href="#cb6-16"></a>    </span>
<span id="cb6-17"><a href="#cb6-17"></a>  <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb6-18"><a href="#cb6-18"></a>    <span class="va">self</span>.x <span class="op">-=</span> <span class="va">self</span>.speed</span>
<span id="cb6-19"><a href="#cb6-19"></a>    <span class="cf">if</span> <span class="va">self</span>.x <span class="op">&lt;</span> <span class="op">-</span><span class="dv">30</span>:</span>
<span id="cb6-20"><a href="#cb6-20"></a>      <span class="va">self</span>.reset()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Die Klasse ist relativ einfach gehalten. Neu ist eigentlich nur die Methode <code>reset()</code>, die die Pizzas nach einem Abschuß oder nachdem sie den linken Bildschirmrand erreicht haben, wieder rechts außen auf eine zufällige Anfangsposition setzt.</p>
<p>Jetzt wie bei jeder neuen Lieferung der vollständige Programmcode, falls Ihr das Programm nachprogrammieren oder remixen wollt:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a><span class="im">from</span> processing <span class="im">import</span> <span class="op">*</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="im">from</span> random <span class="im">import</span> randint</span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a>WIDTH, HEIGHT <span class="op">=</span> <span class="dv">720</span>, <span class="dv">520</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>BG_WIDTH <span class="op">=</span> <span class="dv">1664</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>FPS <span class="op">=</span> <span class="dv">60</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>ANIM <span class="op">=</span> <span class="dv">4</span>   <span class="co"># Animation Cycle</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>UPDOWN <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb7-9"><a href="#cb7-9"></a>MAX_FIRECOUNT <span class="op">=</span> <span class="dv">15</span></span>
<span id="cb7-10"><a href="#cb7-10"></a>NO_ENEMIES <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb7-11"><a href="#cb7-11"></a></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="co">## Oberklasse für alles, was sich bewegt</span></span>
<span id="cb7-13"><a href="#cb7-13"></a><span class="kw">class</span> Sprite():</span>
<span id="cb7-14"><a href="#cb7-14"></a></span>
<span id="cb7-15"><a href="#cb7-15"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb7-16"><a href="#cb7-16"></a>    <span class="cf">pass</span></span>
<span id="cb7-17"><a href="#cb7-17"></a></span>
<span id="cb7-18"><a href="#cb7-18"></a>  <span class="kw">def</span> display(<span class="va">self</span>):</span>
<span id="cb7-19"><a href="#cb7-19"></a>    image(<span class="va">self</span>.img, <span class="va">self</span>.x, <span class="va">self</span>.y)</span>
<span id="cb7-20"><a href="#cb7-20"></a>  </span>
<span id="cb7-21"><a href="#cb7-21"></a>  <span class="kw">def</span> collide_rect(<span class="va">self</span>, other):</span>
<span id="cb7-22"><a href="#cb7-22"></a>    distance_x <span class="op">=</span> (<span class="va">self</span>.x <span class="op">+</span> <span class="va">self</span>.w<span class="op">/</span><span class="dv">2</span>) <span class="op">-</span> (other.x <span class="op">+</span> other.w<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb7-23"><a href="#cb7-23"></a>    distance_y <span class="op">=</span> (<span class="va">self</span>.y <span class="op">+</span> <span class="va">self</span>.h<span class="op">/</span><span class="dv">2</span>) <span class="op">-</span> (other.y <span class="op">+</span> other.h<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb7-24"><a href="#cb7-24"></a>    half_w <span class="op">=</span> <span class="va">self</span>.w<span class="op">/</span><span class="dv">2</span> <span class="op">+</span> other.w<span class="op">/</span><span class="dv">2</span></span>
<span id="cb7-25"><a href="#cb7-25"></a>    half_h <span class="op">=</span> <span class="va">self</span>.h<span class="op">/</span><span class="dv">2</span> <span class="op">+</span> other.h<span class="op">/</span><span class="dv">2</span></span>
<span id="cb7-26"><a href="#cb7-26"></a>    <span class="cf">if</span> (<span class="bu">abs</span>(distance_x) <span class="op">&lt;</span> half_w):</span>
<span id="cb7-27"><a href="#cb7-27"></a>      <span class="cf">if</span> (<span class="bu">abs</span>(distance_y) <span class="op">&lt;</span> half_h):</span>
<span id="cb7-28"><a href="#cb7-28"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb7-29"><a href="#cb7-29"></a>    <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb7-30"><a href="#cb7-30"></a></span>
<span id="cb7-31"><a href="#cb7-31"></a><span class="kw">class</span> Background(Sprite):</span>
<span id="cb7-32"><a href="#cb7-32"></a>  </span>
<span id="cb7-33"><a href="#cb7-33"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _x, _y):</span>
<span id="cb7-34"><a href="#cb7-34"></a>    Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb7-35"><a href="#cb7-35"></a>    <span class="va">self</span>.x <span class="op">=</span> _x</span>
<span id="cb7-36"><a href="#cb7-36"></a>    <span class="va">self</span>.y <span class="op">=</span> _y</span>
<span id="cb7-37"><a href="#cb7-37"></a>    <span class="va">self</span>.start_x <span class="op">=</span> _x</span>
<span id="cb7-38"><a href="#cb7-38"></a>    <span class="va">self</span>.img <span class="op">=</span> loadImage(<span class="st">"desert.png"</span>)</span>
<span id="cb7-39"><a href="#cb7-39"></a>    </span>
<span id="cb7-40"><a href="#cb7-40"></a>  <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb7-41"><a href="#cb7-41"></a>    <span class="va">self</span>.x <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb7-42"><a href="#cb7-42"></a>    <span class="cf">if</span> <span class="va">self</span>.x <span class="op">&lt;=</span> <span class="op">-</span>BG_WIDTH:</span>
<span id="cb7-43"><a href="#cb7-43"></a>      <span class="va">self</span>.x <span class="op">=</span> BG_WIDTH</span>
<span id="cb7-44"><a href="#cb7-44"></a>  </span>
<span id="cb7-45"><a href="#cb7-45"></a></span>
<span id="cb7-46"><a href="#cb7-46"></a><span class="kw">class</span> Missile(Sprite):</span>
<span id="cb7-47"><a href="#cb7-47"></a>  </span>
<span id="cb7-48"><a href="#cb7-48"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _x, _y):</span>
<span id="cb7-49"><a href="#cb7-49"></a>    Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb7-50"><a href="#cb7-50"></a>    <span class="va">self</span>.img <span class="op">=</span> loadImage(<span class="st">"missile.png"</span>)</span>
<span id="cb7-51"><a href="#cb7-51"></a>    <span class="va">self</span>.x <span class="op">=</span> _x</span>
<span id="cb7-52"><a href="#cb7-52"></a>    <span class="va">self</span>.y <span class="op">=</span> _y</span>
<span id="cb7-53"><a href="#cb7-53"></a>    <span class="va">self</span>.w <span class="op">=</span> <span class="dv">19</span></span>
<span id="cb7-54"><a href="#cb7-54"></a>    <span class="va">self</span>.h <span class="op">=</span> <span class="dv">7</span></span>
<span id="cb7-55"><a href="#cb7-55"></a>    <span class="va">self</span>.speed <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb7-56"><a href="#cb7-56"></a>  </span>
<span id="cb7-57"><a href="#cb7-57"></a>  <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb7-58"><a href="#cb7-58"></a>    <span class="va">self</span>.x <span class="op">+=</span> <span class="va">self</span>.speed</span>
<span id="cb7-59"><a href="#cb7-59"></a>    <span class="cf">for</span> enemy <span class="kw">in</span> enemies:</span>
<span id="cb7-60"><a href="#cb7-60"></a>      <span class="cf">if</span> <span class="va">self</span>.collide_rect(enemy):</span>
<span id="cb7-61"><a href="#cb7-61"></a>        missiles.remove(<span class="va">self</span>)</span>
<span id="cb7-62"><a href="#cb7-62"></a>        <span class="co"># Enemy Explosion</span></span>
<span id="cb7-63"><a href="#cb7-63"></a>        e_x, e_y <span class="op">=</span> enemy.x, enemy.y <span class="op">-</span> <span class="dv">5</span></span>
<span id="cb7-64"><a href="#cb7-64"></a>        enemy.reset()</span>
<span id="cb7-65"><a href="#cb7-65"></a>        hit <span class="op">=</span> Explosion(e_x, e_y)</span>
<span id="cb7-66"><a href="#cb7-66"></a>        hits.append(hit)</span>
<span id="cb7-67"><a href="#cb7-67"></a>    <span class="cf">if</span> <span class="va">self</span>.x <span class="op">&gt;=</span> width <span class="op">+</span> <span class="dv">20</span>:</span>
<span id="cb7-68"><a href="#cb7-68"></a>      missiles.remove(<span class="va">self</span>)</span>
<span id="cb7-69"><a href="#cb7-69"></a></span>
<span id="cb7-70"><a href="#cb7-70"></a><span class="kw">class</span> Explosion(Sprite):</span>
<span id="cb7-71"><a href="#cb7-71"></a>  </span>
<span id="cb7-72"><a href="#cb7-72"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _x, _y):</span>
<span id="cb7-73"><a href="#cb7-73"></a>    Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb7-74"><a href="#cb7-74"></a>    <span class="va">self</span>.img <span class="op">=</span> loadImage(<span class="st">"explosion.png"</span>)</span>
<span id="cb7-75"><a href="#cb7-75"></a>    <span class="va">self</span>.x <span class="op">=</span> _x</span>
<span id="cb7-76"><a href="#cb7-76"></a>    <span class="va">self</span>.y <span class="op">=</span> _y</span>
<span id="cb7-77"><a href="#cb7-77"></a>    <span class="va">self</span>.w <span class="op">=</span> <span class="dv">38</span></span>
<span id="cb7-78"><a href="#cb7-78"></a>    <span class="va">self</span>.h <span class="op">=</span> <span class="dv">38</span></span>
<span id="cb7-79"><a href="#cb7-79"></a>    <span class="va">self</span>.timer <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb7-80"><a href="#cb7-80"></a>    </span>
<span id="cb7-81"><a href="#cb7-81"></a>  <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb7-82"><a href="#cb7-82"></a>    <span class="va">self</span>.timer <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb7-83"><a href="#cb7-83"></a>    <span class="cf">if</span> <span class="va">self</span>.timer <span class="op">&lt;=</span> <span class="dv">0</span>:</span>
<span id="cb7-84"><a href="#cb7-84"></a>      hits.remove(<span class="va">self</span>)</span>
<span id="cb7-85"><a href="#cb7-85"></a>  </span>
<span id="cb7-86"><a href="#cb7-86"></a><span class="kw">class</span> Plane(Sprite):</span>
<span id="cb7-87"><a href="#cb7-87"></a>  </span>
<span id="cb7-88"><a href="#cb7-88"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb7-89"><a href="#cb7-89"></a>    Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb7-90"><a href="#cb7-90"></a>    <span class="va">self</span>.images <span class="op">=</span> []</span>
<span id="cb7-91"><a href="#cb7-91"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>):</span>
<span id="cb7-92"><a href="#cb7-92"></a>      img <span class="op">=</span> loadImage(<span class="st">"planegreen_"</span> <span class="op">+</span> <span class="bu">str</span>(i) <span class="op">+</span> <span class="st">".png"</span>)</span>
<span id="cb7-93"><a href="#cb7-93"></a>      <span class="va">self</span>.images.append(img)</span>
<span id="cb7-94"><a href="#cb7-94"></a>    <span class="va">self</span>.img <span class="op">=</span> <span class="va">self</span>.images[<span class="dv">0</span>]</span>
<span id="cb7-95"><a href="#cb7-95"></a>    <span class="va">self</span>.x <span class="op">=</span> <span class="dv">75</span></span>
<span id="cb7-96"><a href="#cb7-96"></a>    <span class="va">self</span>.y <span class="op">=</span> <span class="dv">240</span></span>
<span id="cb7-97"><a href="#cb7-97"></a>    <span class="va">self</span>.w <span class="op">=</span> <span class="dv">44</span></span>
<span id="cb7-98"><a href="#cb7-98"></a>    <span class="va">self</span>.h <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb7-99"><a href="#cb7-99"></a>    <span class="va">self</span>.<span class="bu">dir</span> <span class="op">=</span> <span class="st">"NONE"</span></span>
<span id="cb7-100"><a href="#cb7-100"></a>    <span class="va">self</span>.frame <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb7-101"><a href="#cb7-101"></a>    <span class="va">self</span>.ani <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb7-102"><a href="#cb7-102"></a>    <span class="va">self</span>.firecount <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb7-103"><a href="#cb7-103"></a>  </span>
<span id="cb7-104"><a href="#cb7-104"></a>  <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb7-105"><a href="#cb7-105"></a>    <span class="cf">if</span> <span class="va">self</span>.<span class="bu">dir</span> <span class="op">==</span> <span class="st">"NONE"</span>:</span>
<span id="cb7-106"><a href="#cb7-106"></a>      <span class="va">self</span>.y <span class="op">+=</span> <span class="dv">0</span></span>
<span id="cb7-107"><a href="#cb7-107"></a>    <span class="cf">elif</span> <span class="va">self</span>.<span class="bu">dir</span> <span class="op">==</span> <span class="st">"UP"</span>:</span>
<span id="cb7-108"><a href="#cb7-108"></a>      <span class="cf">if</span> <span class="va">self</span>.y <span class="op">&gt;</span> <span class="dv">20</span>:</span>
<span id="cb7-109"><a href="#cb7-109"></a>        <span class="va">self</span>.y <span class="op">-=</span> UPDOWN</span>
<span id="cb7-110"><a href="#cb7-110"></a>    <span class="cf">elif</span> <span class="va">self</span>.<span class="bu">dir</span> <span class="op">==</span> <span class="st">"DOWN"</span>:</span>
<span id="cb7-111"><a href="#cb7-111"></a>      <span class="cf">if</span> <span class="va">self</span>.y <span class="op">&lt;</span> height <span class="op">-</span> <span class="dv">20</span>:</span>
<span id="cb7-112"><a href="#cb7-112"></a>        <span class="va">self</span>.y <span class="op">+=</span> UPDOWN</span>
<span id="cb7-113"><a href="#cb7-113"></a>    <span class="va">self</span>.ani <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb7-114"><a href="#cb7-114"></a>    <span class="cf">if</span> <span class="va">self</span>.ani <span class="op">&gt;=</span> ANIM:</span>
<span id="cb7-115"><a href="#cb7-115"></a>      <span class="va">self</span>.ani <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb7-116"><a href="#cb7-116"></a>      <span class="va">self</span>.frame <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb7-117"><a href="#cb7-117"></a>      <span class="cf">if</span> <span class="va">self</span>.frame <span class="op">&gt;</span> <span class="dv">1</span>:</span>
<span id="cb7-118"><a href="#cb7-118"></a>        <span class="va">self</span>.frame <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb7-119"><a href="#cb7-119"></a>    <span class="va">self</span>.firecount <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb7-120"><a href="#cb7-120"></a>    <span class="va">self</span>.img <span class="op">=</span> <span class="va">self</span>.images[<span class="va">self</span>.frame]</span>
<span id="cb7-121"><a href="#cb7-121"></a>      </span>
<span id="cb7-122"><a href="#cb7-122"></a>  <span class="kw">def</span> fire(<span class="va">self</span>):</span>
<span id="cb7-123"><a href="#cb7-123"></a>    <span class="cf">if</span> <span class="va">self</span>.firecount <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb7-124"><a href="#cb7-124"></a>      missile <span class="op">=</span> Missile(<span class="va">self</span>.x <span class="op">+</span> <span class="dv">20</span>, <span class="va">self</span>.y <span class="op">+</span> <span class="dv">20</span>)</span>
<span id="cb7-125"><a href="#cb7-125"></a>      missiles.append(missile)</span>
<span id="cb7-126"><a href="#cb7-126"></a>      <span class="va">self</span>.firecount <span class="op">=</span> MAX_FIRECOUNT</span>
<span id="cb7-127"><a href="#cb7-127"></a></span>
<span id="cb7-128"><a href="#cb7-128"></a><span class="kw">class</span> Enemy(Sprite):</span>
<span id="cb7-129"><a href="#cb7-129"></a>  </span>
<span id="cb7-130"><a href="#cb7-130"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _x, _y):</span>
<span id="cb7-131"><a href="#cb7-131"></a>    Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb7-132"><a href="#cb7-132"></a>    <span class="va">self</span>.img <span class="op">=</span> loadImage(<span class="st">"pizza.png"</span>)</span>
<span id="cb7-133"><a href="#cb7-133"></a>    <span class="va">self</span>.x <span class="op">=</span> _x</span>
<span id="cb7-134"><a href="#cb7-134"></a>    <span class="va">self</span>.y <span class="op">=</span> _y</span>
<span id="cb7-135"><a href="#cb7-135"></a>    <span class="va">self</span>.w <span class="op">=</span> <span class="dv">36</span></span>
<span id="cb7-136"><a href="#cb7-136"></a>    <span class="va">self</span>.h <span class="op">=</span> <span class="dv">36</span></span>
<span id="cb7-137"><a href="#cb7-137"></a>    <span class="va">self</span>.speed <span class="op">=</span> randint(<span class="dv">3</span>, <span class="dv">6</span>)</span>
<span id="cb7-138"><a href="#cb7-138"></a>    </span>
<span id="cb7-139"><a href="#cb7-139"></a>  <span class="kw">def</span> reset(<span class="va">self</span>):</span>
<span id="cb7-140"><a href="#cb7-140"></a>    <span class="va">self</span>.x <span class="op">=</span> width <span class="op">+</span> randint(<span class="dv">30</span>, <span class="dv">100</span>)</span>
<span id="cb7-141"><a href="#cb7-141"></a>    <span class="va">self</span>.y <span class="op">=</span> randint(<span class="dv">30</span>, height <span class="op">-</span> <span class="dv">30</span>)</span>
<span id="cb7-142"><a href="#cb7-142"></a>    <span class="va">self</span>.speed <span class="op">=</span> randint(<span class="dv">3</span>, <span class="dv">6</span>)</span>
<span id="cb7-143"><a href="#cb7-143"></a>    </span>
<span id="cb7-144"><a href="#cb7-144"></a>  <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb7-145"><a href="#cb7-145"></a>    <span class="va">self</span>.x <span class="op">-=</span> <span class="va">self</span>.speed</span>
<span id="cb7-146"><a href="#cb7-146"></a>    <span class="cf">if</span> <span class="va">self</span>.x <span class="op">&lt;</span> <span class="op">-</span><span class="dv">30</span>:</span>
<span id="cb7-147"><a href="#cb7-147"></a>      <span class="va">self</span>.reset()</span>
<span id="cb7-148"><a href="#cb7-148"></a>    </span>
<span id="cb7-149"><a href="#cb7-149"></a><span class="co"># Listen</span></span>
<span id="cb7-150"><a href="#cb7-150"></a>backs <span class="op">=</span> []</span>
<span id="cb7-151"><a href="#cb7-151"></a>missiles <span class="op">=</span> []</span>
<span id="cb7-152"><a href="#cb7-152"></a>hits <span class="op">=</span> []</span>
<span id="cb7-153"><a href="#cb7-153"></a>enemies <span class="op">=</span> []</span>
<span id="cb7-154"><a href="#cb7-154"></a>    </span>
<span id="cb7-155"><a href="#cb7-155"></a><span class="kw">def</span> setup():</span>
<span id="cb7-156"><a href="#cb7-156"></a>  <span class="kw">global</span> plane</span>
<span id="cb7-157"><a href="#cb7-157"></a>  size(WIDTH, HEIGHT)</span>
<span id="cb7-158"><a href="#cb7-158"></a>  frameRate(FPS)</span>
<span id="cb7-159"><a href="#cb7-159"></a>  <span class="bu">print</span>(<span class="st">"🍕 Pizza Plane Stage 3 🍕"</span>)</span>
<span id="cb7-160"><a href="#cb7-160"></a>  <span class="bu">print</span>(<span class="st">"Linke Maustaste: Flieger fliegt nach oben."</span>)</span>
<span id="cb7-161"><a href="#cb7-161"></a>  <span class="bu">print</span>(<span class="st">"Rechte Maustaste: Flieger fliegt nach unten."</span>)</span>
<span id="cb7-162"><a href="#cb7-162"></a>  <span class="bu">print</span>(<span class="st">"Mittlere Maustaste: Feuern!"</span>)</span>
<span id="cb7-163"><a href="#cb7-163"></a>  <span class="co"># Hintergrund</span></span>
<span id="cb7-164"><a href="#cb7-164"></a>  back1 <span class="op">=</span> Background(<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb7-165"><a href="#cb7-165"></a>  back2 <span class="op">=</span> Background(BG_WIDTH, <span class="dv">0</span>)</span>
<span id="cb7-166"><a href="#cb7-166"></a>  backs.append(back1)</span>
<span id="cb7-167"><a href="#cb7-167"></a>  backs.append(back2)</span>
<span id="cb7-168"><a href="#cb7-168"></a>  <span class="co"># Den Flieger initialisieren</span></span>
<span id="cb7-169"><a href="#cb7-169"></a>  plane <span class="op">=</span> Plane()</span>
<span id="cb7-170"><a href="#cb7-170"></a>  <span class="co"># Die Gegner (Pizzas)</span></span>
<span id="cb7-171"><a href="#cb7-171"></a>  <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(NO_ENEMIES):</span>
<span id="cb7-172"><a href="#cb7-172"></a>    pizza <span class="op">=</span> Enemy(width <span class="op">+</span> randint(<span class="dv">30</span>, <span class="dv">100</span>), randint(<span class="dv">30</span>, height <span class="op">-</span> <span class="dv">30</span>))</span>
<span id="cb7-173"><a href="#cb7-173"></a>    enemies.append(pizza)</span>
<span id="cb7-174"><a href="#cb7-174"></a>  </span>
<span id="cb7-175"><a href="#cb7-175"></a><span class="kw">def</span> draw():</span>
<span id="cb7-176"><a href="#cb7-176"></a>  background(<span class="dv">231</span>, <span class="dv">229</span>, <span class="dv">226</span>)   <span class="co"># Wüstenhimmel</span></span>
<span id="cb7-177"><a href="#cb7-177"></a>  <span class="cf">for</span> back <span class="kw">in</span> backs:</span>
<span id="cb7-178"><a href="#cb7-178"></a>    back.update()</span>
<span id="cb7-179"><a href="#cb7-179"></a>    back.display()</span>
<span id="cb7-180"><a href="#cb7-180"></a>  plane.update()</span>
<span id="cb7-181"><a href="#cb7-181"></a>  plane.display()</span>
<span id="cb7-182"><a href="#cb7-182"></a>  <span class="cf">for</span> missile <span class="kw">in</span> missiles:</span>
<span id="cb7-183"><a href="#cb7-183"></a>    missile.update()</span>
<span id="cb7-184"><a href="#cb7-184"></a>    missile.display()</span>
<span id="cb7-185"><a href="#cb7-185"></a>  <span class="cf">for</span> enemy <span class="kw">in</span> enemies:</span>
<span id="cb7-186"><a href="#cb7-186"></a>    enemy.update()</span>
<span id="cb7-187"><a href="#cb7-187"></a>    enemy.display()</span>
<span id="cb7-188"><a href="#cb7-188"></a>  <span class="cf">for</span> hit <span class="kw">in</span> hits:</span>
<span id="cb7-189"><a href="#cb7-189"></a>    hit.update()</span>
<span id="cb7-190"><a href="#cb7-190"></a>    hit.display()</span>
<span id="cb7-191"><a href="#cb7-191"></a>  </span>
<span id="cb7-192"><a href="#cb7-192"></a><span class="kw">def</span> mousePressed():</span>
<span id="cb7-193"><a href="#cb7-193"></a>  <span class="cf">if</span> mouseButton <span class="op">==</span> LEFT:</span>
<span id="cb7-194"><a href="#cb7-194"></a>    plane.<span class="bu">dir</span> <span class="op">=</span> <span class="st">"UP"</span></span>
<span id="cb7-195"><a href="#cb7-195"></a>  <span class="cf">elif</span> mouseButton <span class="op">==</span> RIGHT:</span>
<span id="cb7-196"><a href="#cb7-196"></a>    plane.<span class="bu">dir</span> <span class="op">=</span> <span class="st">"DOWN"</span></span>
<span id="cb7-197"><a href="#cb7-197"></a>  <span class="cf">elif</span> mouseButton <span class="op">==</span> CENTER:</span>
<span id="cb7-198"><a href="#cb7-198"></a>    plane.fire()</span>
<span id="cb7-199"><a href="#cb7-199"></a></span>
<span id="cb7-200"><a href="#cb7-200"></a><span class="kw">def</span> mouseReleased():</span>
<span id="cb7-201"><a href="#cb7-201"></a>  plane.<span class="bu">dir</span> <span class="op">=</span> <span class="st">"NONE"</span></span>
<span id="cb7-202"><a href="#cb7-202"></a></span>
<span id="cb7-203"><a href="#cb7-203"></a>run()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Mit etwa zweihundert Zeilen ist das Programm, das nun in einer spielbaren Version vorliegt, immer noch recht kompakt. Den <a href="https://github.com/kantel/trinket/tree/main/pizzaplane/stage3">Quellcode und die Assets</a> gibt es einmal auch in meinem GitHub-Repositorium und dann natürlich auch <a href="https://trinket.io/python/3ae6ef087c">als Trinket</a> – das macht einen Remix noch einfacher.</p>
<p>Und natürlich darf und will ich die <em>Credits</em> nicht vergessen: Das <a href="https://opengameart.org/content/seamless-desert-background-in-parts">Hintergrundbild</a> stammt vom User »<a href="https://opengameart.org/users/pwl">PWL</a>«, der es auf OpenGameArt.org zur freien Vewendung (<a href="http://creativecommons.org/publicdomain/zero/1.0/">CC0</a>) hochgeladen hat. Den <a href="https://opengameart.org/content/free-plane-sprite">grünen Flieger</a> von »<a href="https://opengameart.org/users/pzuh">pzUH</a>« gibt es als <a href="http://creativecommons.org/publicdomain/zero/1.0/">Public Domain</a> ebenfalls auf OpenGameArt.org. Und das Bild der Pizzas, der Geschosse und der Explosion habe ich den freien (<a href="https://creativecommons.org/licenses/by/4.0/">CC-BY 4.0</a>) <a href="https://twemoji.twitter.com/">Twemojis von Twitter</a> entnommen und mit der <a href="https://de.wikipedia.org/wiki/GraphicConverter">Bildverarbeitung meines Vertrauens</a> ein wenig auf Vordermann gebracht.</p>
<p>Das Programm ist noch nicht komplett. Auf jeden Fall will ich noch eine Kollision der Pizzas mit dem Spieler implementieren, bei der der Spieler Lebenspunkte verliert. Dann möchte ich noch eine Anzeige des Punktestands implementieren. Hierfür muß ich aber erst noch herausbekommen, wie man in Trinket Fonts als Assets installiert. <em>Still digging!</em></p>




<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Fußnoten</h2>

<ol>
<li id="fn1"><p>In einer späteren Variante können Explosionen zum Beispiel auch von den Gegnern (Pizzas) ausgelöst werden, wenn diese mit dem Spieler kollidieren.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="kantel/kantel.github.io" data-repo-id="R_kgDOIjiXMQ" data-category="General" data-category-id="DIC_kwDOIjiXMc4CS_hh" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>