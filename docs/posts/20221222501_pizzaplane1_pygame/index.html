<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jörg Kantel">

<title>Der Schockwellenreiter - Auf ein neues: Pizzaplane in Pygame (Stage 1)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken"
  }
}</script>
<script data-goatcounter="https://kantel.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Der Schockwellenreiter</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">Über den Schockwellenreiter</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../impressum.html">
 <span class="menu-text">Impressum</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kantel/kantel.github.io"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://mastodon.social/@kantel"><i class="bi bi-mastodon" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Auf ein neues: Pizzaplane in Pygame (Stage 1)</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Pygame</div>
    <div class="quarto-category">Spieleprogrammierung</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor:in</div>
    <div class="quarto-title-meta-contents">
             <p>Jörg Kantel </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Veröffentlichungsdatum</div>
    <div class="quarto-title-meta-contents">
      <p class="date">25. Dezember 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.flickr.com/photos/schockwellenreiter/52584883766/"><img src="images/pizzaplane1pygame-b.jpg" class="img-fluid figure-img"></a></p>
</figure>
</div>
<p>Nachdem ich mir ein paar der <a href="https://kantel.github.io/posts/20221222301_pygame_tuts/">am Freitag vorgestellten Video-Tutorien</a> reingezogen hatte, bekam ich unbändige Lust, meine eingerosteten <a href="http://cognitiones.kantel-chaos-team.de/multimedia/spieleprogrammierung/pygame.html">Pygame</a>-Kenntnisse frisch zu ölen und selber etwas mit diesem Spiele-Framework anzustellen. Was lag näher, als das nach meiner <a href="http://blog.schockwellenreiter.de/2022/10/2022103001.html">Abkehr von TigerJython</a> verwaiste Projekt <a href="http://blog.schockwellenreiter.de/2022/10/2022101502.html">Pizzaplane</a> wiederzubeleben und es in Pygame zu implementieren?</p>
<p>Ich halte ja Pygames <code>Sprite()</code>-Klasse für <strong>das</strong> große Alleinstellungsmerkmal, das Pygame von allen anderen Python-Frameworks abhebt. Um so verwunderter war ich, daß die Autoren der Freitag vorgestellten Pygame-Tutorien die Sprite-Klasse entweder ignorierten oder sich in der Implementierung verhedderten (zumindest in den Videos, die ich mir bis heute angeschaut hatte). Daher habe ich in meinem Programm darauf geachtet, die Sprites sauber zu implementieren.</p>
<p>Das beginnt mit dem endlos scrollenden Hintergrund, den ich ebenfalls als Unterklasse von <code>pygame.sprite.Sprite</code> implementiert habe. Das ist zwar ungewöhnlich – in Pygame-Prgrammen wird der Hintergrund normalerweise einfach als <code>surface</code> in das Fenster »geblittet«, aber meine (Pygame-) Philosophie ist: Alles, was sich bewegt, sind Sprites.</p>
<p>Ebenso ungewöhnlich – und vermutlich nicht notwendig – ist, daß ich den Hintergründen eine eigene Sprite-Group spendiert habe. Ich meine mich jedoch zu erinnern, daß man in Sprite-Groups nur sehr schwer die Reihenfolge bestimmen kann, in der die daran enthaltenen Sprites auf den Bildschirm gezeichnet werden, Deshalb sind die beiden Hintergrundbilder in einer eigenen Gruppe zusammengefaßt, die <strong>vor</strong> den eigentlichen Sprites gezeichnet wird<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
<p>Ein übler Hack hingegen ist die Zeile,</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>os.environ[<span class="st">'SDL_VIDEO_WINDOW_POS'</span>] <span class="op">=</span> <span class="st">"</span><span class="sc">%d</span><span class="st">,</span><span class="sc">%d</span><span class="st">"</span> <span class="op">%</span> (<span class="dv">1320</span>, <span class="dv">60</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>mit der ich das Spielefenster auf den zweiten Monitor meine Home-Konfiguration beame. Dieser Hack scheint bis heute der einzige Weg zu sein, einem Pygame-Fenster eine Startposition zu verpassen. Wer keinen zweiten Monitor hat, sollte diese Zeile auskommentieren – ich wollte nur, daß Ihr mal seht, wie man so etwas bewerkstelligt<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
<p>Ein wenig übervorsichtig ist auch die <code>try: ... finally:</code>-Klausel bei der Behandlung des Spieleabbruchs, aber <a href="http://cognitiones.kantel-chaos-team.de/programmierung/python/thonny.html">Thonny</a> ist in diesem Fall manchmal (aber nicht reproduzierbar) ein wenig zickig, wenn man die Hauptschleife nur mit <code>keep_going = False</code> beendet. So aber wird das Programm in jeder Situation sauber abgeschlossen.</p>
<p>Ansonsten setzt die Event-Behandlung in der Hauptschleife auf entsrechenden Tastendruck nur den Status <code>plane.dir</code> auf <code>"Up"</code> oder <code>"DOWN"</code> respektive – wenn eine Taste losgelassen wird – auf <code>"NONE"</code>. Wie mit diesen Stati umzugehen ist, ist Aufgabe der Klasse <code>Plane()</code>.</p>
<p>Überhaupt habe ich versucht, daß Programm so klar wie möglich zu gestalten. Alle Updates finden in den Klassen statt, in der Hauptschleife werden eigentlich nur die Events abgefragt (und gegenenenfalls an die dafür zuständigen Klassen durchgereicht (im Moment ist das nur die Klasse <code>Plane()</code>)) und die Ergebnisse auf den Monitor gezeichnet. Hier ist das komplette Programm, damit Ihr einen Überblick bekommt:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>pizzaplane1.py</strong></pre>
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python code-overflow-wrap number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="im">import</span> pygame</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="im">from</span> pygame.<span class="bu">locals</span> <span class="im">import</span> <span class="op">*</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="im">import</span> os</span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="im">import</span> sys</span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co"># Hier wird der Pfad zum Verzeichnis der Assets gesetzt</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>DATAPATH <span class="op">=</span> os.path.join(os.getcwd(), <span class="st">"data"</span>)</span>
<span id="cb2-8"><a href="#cb2-8"></a></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="co"># Konstanten deklarieren</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>WIDTH, HEIGHT <span class="op">=</span> <span class="dv">720</span>, <span class="dv">520</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>BG_WIDTH <span class="op">=</span> <span class="dv">1664</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>TITLE <span class="op">=</span> <span class="st">"Pizza Plane Stage 1"</span></span>
<span id="cb2-13"><a href="#cb2-13"></a>FPS <span class="op">=</span> <span class="dv">60</span></span>
<span id="cb2-14"><a href="#cb2-14"></a>ANIM <span class="op">=</span> <span class="dv">4</span> <span class="co"># Animation cycle</span></span>
<span id="cb2-15"><a href="#cb2-15"></a>UPDOWN <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb2-16"><a href="#cb2-16"></a></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="co"># Farben</span></span>
<span id="cb2-18"><a href="#cb2-18"></a>BG_COLOR <span class="op">=</span> (<span class="dv">231</span>, <span class="dv">229</span>, <span class="dv">226</span>) <span class="co"># Wüstenhimmel</span></span>
<span id="cb2-19"><a href="#cb2-19"></a></span>
<span id="cb2-20"><a href="#cb2-20"></a><span class="co"># Objekte</span></span>
<span id="cb2-21"><a href="#cb2-21"></a><span class="kw">class</span> Background(pygame.sprite.Sprite):</span>
<span id="cb2-22"><a href="#cb2-22"></a>    </span>
<span id="cb2-23"><a href="#cb2-23"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _x, _y):</span>
<span id="cb2-24"><a href="#cb2-24"></a>        pygame.sprite.Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb2-25"><a href="#cb2-25"></a>        <span class="va">self</span>.x <span class="op">=</span> _x</span>
<span id="cb2-26"><a href="#cb2-26"></a>        <span class="va">self</span>.y <span class="op">=</span> _y</span>
<span id="cb2-27"><a href="#cb2-27"></a>        <span class="va">self</span>.start_x <span class="op">=</span> _x</span>
<span id="cb2-28"><a href="#cb2-28"></a>        <span class="va">self</span>.image <span class="op">=</span> pygame.image.load(os.path.join(DATAPATH,</span>
<span id="cb2-29"><a href="#cb2-29"></a>                            <span class="st">"desert.png"</span>))</span>
<span id="cb2-30"><a href="#cb2-30"></a>        <span class="va">self</span>.rect <span class="op">=</span> <span class="va">self</span>.image.get_rect()</span>
<span id="cb2-31"><a href="#cb2-31"></a>        </span>
<span id="cb2-32"><a href="#cb2-32"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb2-33"><a href="#cb2-33"></a>        <span class="va">self</span>.x <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb2-34"><a href="#cb2-34"></a>        <span class="co"># print(self.x)</span></span>
<span id="cb2-35"><a href="#cb2-35"></a>        <span class="va">self</span>.rect.x <span class="op">=</span> <span class="va">self</span>.x</span>
<span id="cb2-36"><a href="#cb2-36"></a>        <span class="cf">if</span> <span class="va">self</span>.x <span class="op">&lt;=</span> <span class="op">-</span>BG_WIDTH:</span>
<span id="cb2-37"><a href="#cb2-37"></a>            <span class="va">self</span>.x <span class="op">=</span> BG_WIDTH</span>
<span id="cb2-38"><a href="#cb2-38"></a></span>
<span id="cb2-39"><a href="#cb2-39"></a><span class="kw">class</span>  Plane(pygame.sprite.Sprite):</span>
<span id="cb2-40"><a href="#cb2-40"></a>    </span>
<span id="cb2-41"><a href="#cb2-41"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb2-42"><a href="#cb2-42"></a>        pygame.sprite.Sprite.<span class="fu">__init__</span>(<span class="va">self</span>)</span>
<span id="cb2-43"><a href="#cb2-43"></a>        <span class="co"># Load Images</span></span>
<span id="cb2-44"><a href="#cb2-44"></a>        <span class="va">self</span>.images <span class="op">=</span> []</span>
<span id="cb2-45"><a href="#cb2-45"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span> (<span class="dv">3</span>):</span>
<span id="cb2-46"><a href="#cb2-46"></a>            img <span class="op">=</span> pygame.image.load(os.path.join(DATAPATH,</span>
<span id="cb2-47"><a href="#cb2-47"></a>                         <span class="st">"planered_"</span> <span class="op">+</span> <span class="bu">str</span>(i) <span class="op">+</span> <span class="st">".png"</span>))</span>
<span id="cb2-48"><a href="#cb2-48"></a>            <span class="va">self</span>.images.append(img)</span>
<span id="cb2-49"><a href="#cb2-49"></a>        <span class="va">self</span>.image <span class="op">=</span> <span class="va">self</span>.images[<span class="dv">0</span>]</span>
<span id="cb2-50"><a href="#cb2-50"></a>        <span class="va">self</span>.rect <span class="op">=</span> <span class="va">self</span>.image.get_rect()</span>
<span id="cb2-51"><a href="#cb2-51"></a>        <span class="va">self</span>.x <span class="op">=</span> <span class="dv">75</span></span>
<span id="cb2-52"><a href="#cb2-52"></a>        <span class="va">self</span>.y <span class="op">=</span> <span class="dv">250</span></span>
<span id="cb2-53"><a href="#cb2-53"></a>        <span class="va">self</span>.frame <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-54"><a href="#cb2-54"></a>        <span class="va">self</span>.ani <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb2-55"><a href="#cb2-55"></a>        <span class="va">self</span>.<span class="bu">dir</span> <span class="op">=</span> <span class="st">"NONE"</span></span>
<span id="cb2-56"><a href="#cb2-56"></a>    </span>
<span id="cb2-57"><a href="#cb2-57"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb2-58"><a href="#cb2-58"></a>        <span class="cf">if</span> <span class="va">self</span>.<span class="bu">dir</span> <span class="op">==</span> <span class="st">"NONE"</span>:</span>
<span id="cb2-59"><a href="#cb2-59"></a>            <span class="va">self</span>.y <span class="op">+=</span> <span class="dv">0</span></span>
<span id="cb2-60"><a href="#cb2-60"></a>        <span class="cf">elif</span> <span class="va">self</span>.<span class="bu">dir</span> <span class="op">==</span> <span class="st">"UP"</span>:</span>
<span id="cb2-61"><a href="#cb2-61"></a>            <span class="cf">if</span> <span class="va">self</span>.y <span class="op">&gt;</span> <span class="dv">20</span>:</span>
<span id="cb2-62"><a href="#cb2-62"></a>                <span class="va">self</span>.y <span class="op">-=</span> UPDOWN</span>
<span id="cb2-63"><a href="#cb2-63"></a>        <span class="cf">elif</span> <span class="va">self</span>.<span class="bu">dir</span> <span class="op">==</span> <span class="st">"DOWN"</span>:</span>
<span id="cb2-64"><a href="#cb2-64"></a>            <span class="cf">if</span> <span class="va">self</span>.y <span class="op">&lt;</span> HEIGHT <span class="op">-</span> <span class="dv">20</span>:</span>
<span id="cb2-65"><a href="#cb2-65"></a>                <span class="va">self</span>.y <span class="op">+=</span> UPDOWN</span>
<span id="cb2-66"><a href="#cb2-66"></a>        <span class="va">self</span>.rect.center <span class="op">=</span> (<span class="va">self</span>.x, <span class="va">self</span>.y)</span>
<span id="cb2-67"><a href="#cb2-67"></a>        <span class="va">self</span>.ani <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-68"><a href="#cb2-68"></a>        <span class="cf">if</span> <span class="va">self</span>.ani <span class="op">&gt;=</span> ANIM:</span>
<span id="cb2-69"><a href="#cb2-69"></a>            <span class="va">self</span>.ani <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-70"><a href="#cb2-70"></a>            <span class="va">self</span>.frame <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-71"><a href="#cb2-71"></a>            <span class="cf">if</span> <span class="va">self</span>.frame <span class="op">&gt;</span> <span class="dv">2</span>:</span>
<span id="cb2-72"><a href="#cb2-72"></a>                <span class="va">self</span>.frame <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-73"><a href="#cb2-73"></a>        <span class="va">self</span>.image <span class="op">=</span> <span class="va">self</span>.images[<span class="va">self</span>.frame]</span>
<span id="cb2-74"><a href="#cb2-74"></a>        </span>
<span id="cb2-75"><a href="#cb2-75"></a><span class="co"># Pygame initialisieren</span></span>
<span id="cb2-76"><a href="#cb2-76"></a>clock <span class="op">=</span> pygame.time.Clock()</span>
<span id="cb2-77"><a href="#cb2-77"></a>pygame.init()</span>
<span id="cb2-78"><a href="#cb2-78"></a><span class="co"># Ein übler Hack, um die Position des Fensters auf meinen</span></span>
<span id="cb2-79"><a href="#cb2-79"></a><span class="co"># zweiten Bildschirm zu setzen, aber er funktioniert …</span></span>
<span id="cb2-80"><a href="#cb2-80"></a>os.environ[<span class="st">'SDL_VIDEO_WINDOW_POS'</span>] <span class="op">=</span> <span class="st">"</span><span class="sc">%d</span><span class="st">,</span><span class="sc">%d</span><span class="st">"</span> <span class="op">%</span> (<span class="dv">1320</span>, <span class="dv">60</span>)</span>
<span id="cb2-81"><a href="#cb2-81"></a>screen <span class="op">=</span> pygame.display.set_mode((WIDTH, HEIGHT))</span>
<span id="cb2-82"><a href="#cb2-82"></a>pygame.display.set_caption(TITLE)</span>
<span id="cb2-83"><a href="#cb2-83"></a></span>
<span id="cb2-84"><a href="#cb2-84"></a><span class="co"># Sprite-Gruppe(n)</span></span>
<span id="cb2-85"><a href="#cb2-85"></a>backs       <span class="op">=</span> pygame.sprite.Group()</span>
<span id="cb2-86"><a href="#cb2-86"></a>all_sprites <span class="op">=</span> pygame.sprite.Group()</span>
<span id="cb2-87"><a href="#cb2-87"></a></span>
<span id="cb2-88"><a href="#cb2-88"></a><span class="co"># Hintergrund</span></span>
<span id="cb2-89"><a href="#cb2-89"></a>back1 <span class="op">=</span> Background(<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb2-90"><a href="#cb2-90"></a>back2 <span class="op">=</span> Background(BG_WIDTH, <span class="dv">0</span>)</span>
<span id="cb2-91"><a href="#cb2-91"></a>backs.add(back1)</span>
<span id="cb2-92"><a href="#cb2-92"></a>backs.add(back2)</span>
<span id="cb2-93"><a href="#cb2-93"></a></span>
<span id="cb2-94"><a href="#cb2-94"></a><span class="co"># Der rote Flieger</span></span>
<span id="cb2-95"><a href="#cb2-95"></a>plane <span class="op">=</span> Plane()</span>
<span id="cb2-96"><a href="#cb2-96"></a>all_sprites.add(plane)</span>
<span id="cb2-97"><a href="#cb2-97"></a></span>
<span id="cb2-98"><a href="#cb2-98"></a>keep_going <span class="op">=</span> <span class="va">True</span></span>
<span id="cb2-99"><a href="#cb2-99"></a><span class="cf">while</span> keep_going:</span>
<span id="cb2-100"><a href="#cb2-100"></a>    </span>
<span id="cb2-101"><a href="#cb2-101"></a>    clock.tick(FPS)</span>
<span id="cb2-102"><a href="#cb2-102"></a>    <span class="cf">for</span> event <span class="kw">in</span> pygame.event.get():</span>
<span id="cb2-103"><a href="#cb2-103"></a>        <span class="cf">if</span> ((event.<span class="bu">type</span> <span class="op">==</span> pygame.QUIT)</span>
<span id="cb2-104"><a href="#cb2-104"></a>            <span class="kw">or</span> (event.<span class="bu">type</span> <span class="op">==</span> pygame.KEYDOWN</span>
<span id="cb2-105"><a href="#cb2-105"></a>                <span class="kw">and</span> event.key <span class="op">==</span> pygame.K_ESCAPE)):</span>
<span id="cb2-106"><a href="#cb2-106"></a>            <span class="bu">print</span>(<span class="st">"Bye, Bye, Baby!"</span>)</span>
<span id="cb2-107"><a href="#cb2-107"></a>            pygame.quit()</span>
<span id="cb2-108"><a href="#cb2-108"></a>            <span class="cf">try</span>:</span>
<span id="cb2-109"><a href="#cb2-109"></a>                sys.exit()</span>
<span id="cb2-110"><a href="#cb2-110"></a>            <span class="cf">finally</span>:</span>
<span id="cb2-111"><a href="#cb2-111"></a>                keep_going <span class="op">=</span> <span class="va">False</span></span>
<span id="cb2-112"><a href="#cb2-112"></a>                </span>
<span id="cb2-113"><a href="#cb2-113"></a>        <span class="cf">if</span> event.<span class="bu">type</span> <span class="op">==</span> pygame.KEYDOWN:</span>
<span id="cb2-114"><a href="#cb2-114"></a>            <span class="cf">if</span> event.key <span class="op">==</span> pygame.K_UP:</span>
<span id="cb2-115"><a href="#cb2-115"></a>                plane.<span class="bu">dir</span> <span class="op">=</span> <span class="st">"UP"</span></span>
<span id="cb2-116"><a href="#cb2-116"></a>            <span class="cf">elif</span> event.key <span class="op">==</span> pygame.K_DOWN:</span>
<span id="cb2-117"><a href="#cb2-117"></a>                plane.<span class="bu">dir</span> <span class="op">=</span> <span class="st">"DOWN"</span></span>
<span id="cb2-118"><a href="#cb2-118"></a>                </span>
<span id="cb2-119"><a href="#cb2-119"></a>        <span class="cf">if</span> event.<span class="bu">type</span> <span class="op">==</span> pygame.KEYUP:</span>
<span id="cb2-120"><a href="#cb2-120"></a>            plane.<span class="bu">dir</span> <span class="op">=</span> <span class="st">"NONE"</span></span>
<span id="cb2-121"><a href="#cb2-121"></a></span>
<span id="cb2-122"><a href="#cb2-122"></a>    backs.update()</span>
<span id="cb2-123"><a href="#cb2-123"></a>    backs.draw(screen)</span>
<span id="cb2-124"><a href="#cb2-124"></a>    all_sprites.update()</span>
<span id="cb2-125"><a href="#cb2-125"></a>    all_sprites.draw(screen)</span>
<span id="cb2-126"><a href="#cb2-126"></a>    pygame.display.update()</span>
<span id="cb2-127"><a href="#cb2-127"></a>    pygame.display.flip()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wie immer findet Ihr das <a href="https://github.com/kantel/pygameprojects/tree/master/pizzaplane">Programm und alle Assets</a> auch in meinem GitHub-Repositorium. Fortsetzung folgt …</p>




<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Fußnoten</h2>

<ol>
<li id="fn1"><p>Sollte mich meine Erinnerung trügen oder diese Eigenschaft mittlerweile verschwunden sein – diese wenigen zusätzlichen Zeilen schaden ja nicht.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Ich muß allerdings zugeben, daß ich diesen Hack auch »nur« auf <em>Stack Overflow</em> gefunden habe.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="kantel/kantel.github.io" data-repo-id="R_kgDOIjiXMQ" data-category="General" data-category-id="DIC_kwDOIjiXMc4CS_hh" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>