<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.47">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jörg Kantel">

<title>Die rasende Schlange: Vektoren in Pygame – Der Schockwellenreiter</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>
<script data-goatcounter="https://kantel.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Der Schockwellenreiter</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Suchen"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Navigation umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Über den Schockwellenreiter</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kantel/kantel.github.io"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://mastodon.social/@kantel"> <i class="bi bi-mastodon" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Die rasende Schlange: Vektoren in Pygame</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Creative Coding</div>
    <div class="quarto-category">Python</div>
    <div class="quarto-category">Pygame</div>
    <div class="quarto-category">Nature of Code</div>
    <div class="quarto-category">Pygbag</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor:in</div>
    <div class="quarto-title-meta-contents">
             <p>Jörg Kantel </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Veröffentlichungsdatum</div>
    <div class="quarto-title-meta-contents">
      <p class="date">21. Februar 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><a href="https://www.flickr.com/photos/schockwellenreiter/54349010602/"><img src="images/rasendepython-b.jpg" class="img-fluid"></a></p>
<blockquote class="blockquote">
<p><strong>Vorbemerkung</strong>: Leider hatte ich gestern auf meinem Mac Mini ein Betriebssystem-Update gewagt (von <em>Sonoma</em> auf <em>Sequoia</em>). Seitdem gibt Python seltsame Fehlermeldungen heraus (die irgendetwas von <code>IMKClient</code> und <code>IMKInputSession</code> faseln). Laut den allwissenden Gurus von <em>Stacvk Overflow</em> ist das ein Bug in macOS Sequoia, der nicht nur in Python, sondern auch in anderen Programmiersprachen, die Fenster benutzen, auftritt. Apple war wohl bisher nicht in der Lage, diesen Bug zu fixen, obwohl mein Sequoia schon die beeindruckende Versionsnummer 15.3.1 aufweist. Wie auch immer, meine Python/<a href="http://cognitiones.kantel-chaos-team.de/multimedia/spieleprogrammierung/pygame.html">Pygame</a>- und <a href="http://cognitiones.kantel-chaos-team.de/multimedia/spieleprogrammierung/arcade.html">Arcade</a>-Skripte laufen unbeeindruckt von diesen Fehlermeldungen auf meinem Rechner weiter, nur <a href="http://cognitiones.kantel-chaos-team.de/multimedia/spieleprogrammierung/pygbag.html">Pygbag</a> macht Probleme und kann keine im Browser lauffähigen Pygame-Skripte mehr erzeugen. Daher müsst Ihr heute mit trockenem Quellcode und langweiligen Screenshots vorliebnehmen.</p>
</blockquote>
<p>Über das Wochenende hatte ich mich hingesetzt und an meinem <a href="https://kantel.github.io/posts/2025021701_vectory_pygame/">vor wenigen Tagen angekündigten Vorhaben</a> gearbeitet, zumindest die Vektorkapitel&nbsp;1 und 2 aus <em>Daniel Shiffmans</em> »<a href="https://natureofcode.com/">The Nature of Code</a>« nach Python/<a href="https://pyga.me/">Pygame (CE)</a> zu portieren. Und zumindest das erste Kapitel habe ich fast abgeschlossen. Als erstes hatte ich mir das »<a href="https://natureofcode.com/vectors/#example-17-motion-101-velocity">Example 1.7: Motion 101 (Velocity)</a>« vorgeknöpft. Das war recht einfach, da es im Wesentlichen meinem »<a href="https://kantel.github.io/posts/2025021701_vectory_pygame/">Bouncing Chicken</a>« entsprach (ich habe das <em>Bouncing</em>) daher auch in diesem Skript (<a href="https://github.com/kantel/pythoncuriosa/blob/main/noc/motion101b.py">motion101.py</a>) statt des <em>Wrappings</em> von <em>Shiffman</em> beibehalten:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Motion 101 (Velocity)</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="im">import</span> pygame</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="im">from</span> random <span class="im">import</span> randint</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="im">import</span> sys</span>
<span id="cb1-5"><a href="#cb1-5"></a></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co"># Einige nützliche Konstanten</span></span>
<span id="cb1-7"><a href="#cb1-7"></a>WIDTH <span class="op">=</span> <span class="dv">800</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>HEIGHT <span class="op">=</span> <span class="dv">450</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>TITLE <span class="op">=</span> <span class="st">"Motion 101 (Velocity)"</span></span>
<span id="cb1-10"><a href="#cb1-10"></a>FPS <span class="op">=</span> <span class="dv">60</span>  <span class="co"># Framerate</span></span>
<span id="cb1-11"><a href="#cb1-11"></a></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co"># Farben</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>BG_COLOR <span class="op">=</span> <span class="dv">59</span>, <span class="dv">122</span>, <span class="dv">87</span>  <span class="co"># Billardtisch-Grün</span></span>
<span id="cb1-14"><a href="#cb1-14"></a></span>
<span id="cb1-15"><a href="#cb1-15"></a>vec2 <span class="op">=</span> pygame.Vector2</span>
<span id="cb1-16"><a href="#cb1-16"></a></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="co"># Klassen</span></span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="co"># ---------------------------------------------------------------------- #</span></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="co">## Class GameWorld</span></span>
<span id="cb1-20"><a href="#cb1-20"></a><span class="kw">class</span> GameWorld:</span>
<span id="cb1-21"><a href="#cb1-21"></a></span>
<span id="cb1-22"><a href="#cb1-22"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb1-23"><a href="#cb1-23"></a>        <span class="co"># Pygame und das Fenster initialisieren</span></span>
<span id="cb1-24"><a href="#cb1-24"></a>        pygame.init()</span>
<span id="cb1-25"><a href="#cb1-25"></a>        <span class="va">self</span>.screen <span class="op">=</span> pygame.display.set_mode((WIDTH, HEIGHT))</span>
<span id="cb1-26"><a href="#cb1-26"></a>        pygame.display.set_caption(TITLE)</span>
<span id="cb1-27"><a href="#cb1-27"></a></span>
<span id="cb1-28"><a href="#cb1-28"></a>        <span class="va">self</span>.clock <span class="op">=</span> pygame.time.Clock()</span>
<span id="cb1-29"><a href="#cb1-29"></a>        <span class="va">self</span>.keep_going <span class="op">=</span> <span class="va">True</span></span>
<span id="cb1-30"><a href="#cb1-30"></a></span>
<span id="cb1-31"><a href="#cb1-31"></a>    <span class="kw">def</span> reset(<span class="va">self</span>):</span>
<span id="cb1-32"><a href="#cb1-32"></a>        <span class="co"># Neustart oder Status zurücksetzen</span></span>
<span id="cb1-33"><a href="#cb1-33"></a>        <span class="co"># Hier werden alle Elemente der GameWorld initialisiert</span></span>
<span id="cb1-34"><a href="#cb1-34"></a>        <span class="va">self</span>.mover <span class="op">=</span> Mover(<span class="va">self</span>)</span>
<span id="cb1-35"><a href="#cb1-35"></a></span>
<span id="cb1-36"><a href="#cb1-36"></a>    <span class="kw">def</span> events(<span class="va">self</span>):</span>
<span id="cb1-37"><a href="#cb1-37"></a>        <span class="co"># Poll for events</span></span>
<span id="cb1-38"><a href="#cb1-38"></a>        <span class="cf">for</span> event <span class="kw">in</span> pygame.event.get():</span>
<span id="cb1-39"><a href="#cb1-39"></a>            <span class="cf">if</span> ((event.<span class="bu">type</span> <span class="op">==</span> pygame.QUIT) <span class="kw">or</span></span>
<span id="cb1-40"><a href="#cb1-40"></a>                (event.<span class="bu">type</span> <span class="op">==</span> pygame.KEYDOWN <span class="kw">and</span> event.key <span class="op">==</span> pygame.K_ESCAPE)):</span>
<span id="cb1-41"><a href="#cb1-41"></a>                <span class="va">self</span>.keep_going <span class="op">=</span> <span class="va">False</span></span>
<span id="cb1-42"><a href="#cb1-42"></a></span>
<span id="cb1-43"><a href="#cb1-43"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb1-44"><a href="#cb1-44"></a>        <span class="va">self</span>.mover.update()</span>
<span id="cb1-45"><a href="#cb1-45"></a></span>
<span id="cb1-46"><a href="#cb1-46"></a>    <span class="kw">def</span> draw(<span class="va">self</span>):</span>
<span id="cb1-47"><a href="#cb1-47"></a>        <span class="va">self</span>.screen.fill(BG_COLOR)</span>
<span id="cb1-48"><a href="#cb1-48"></a>        <span class="co"># Game drawings go here</span></span>
<span id="cb1-49"><a href="#cb1-49"></a>        <span class="va">self</span>.mover.draw()</span>
<span id="cb1-50"><a href="#cb1-50"></a></span>
<span id="cb1-51"><a href="#cb1-51"></a>        <span class="co"># Alle Änderungen auf den Bildschirm</span></span>
<span id="cb1-52"><a href="#cb1-52"></a>        pygame.display.flip()</span>
<span id="cb1-53"><a href="#cb1-53"></a></span>
<span id="cb1-54"><a href="#cb1-54"></a><span class="co"># ---------------------------------------------------------------------- #</span></span>
<span id="cb1-55"><a href="#cb1-55"></a><span class="kw">class</span> Mover():</span>
<span id="cb1-56"><a href="#cb1-56"></a></span>
<span id="cb1-57"><a href="#cb1-57"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _world):</span>
<span id="cb1-58"><a href="#cb1-58"></a>        <span class="va">self</span>.world <span class="op">=</span> _world</span>
<span id="cb1-59"><a href="#cb1-59"></a>        <span class="va">self</span>.position <span class="op">=</span> vec2((randint(<span class="dv">20</span>, WIDTH <span class="op">-</span> <span class="dv">20</span>), randint(<span class="dv">20</span>, HEIGHT <span class="op">-</span> <span class="dv">20</span> )))</span>
<span id="cb1-60"><a href="#cb1-60"></a>        <span class="va">self</span>.velocity <span class="op">=</span> vec2((randint(<span class="op">-</span><span class="dv">5</span>, <span class="dv">5</span>), randint(<span class="op">-</span><span class="dv">5</span>, <span class="dv">5</span>)))</span>
<span id="cb1-61"><a href="#cb1-61"></a>        <span class="va">self</span>.radius <span class="op">=</span> <span class="dv">24</span></span>
<span id="cb1-62"><a href="#cb1-62"></a></span>
<span id="cb1-63"><a href="#cb1-63"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb1-64"><a href="#cb1-64"></a>        <span class="va">self</span>.position <span class="op">+=</span> <span class="va">self</span>.velocity</span>
<span id="cb1-65"><a href="#cb1-65"></a>        <span class="cf">if</span> <span class="va">self</span>.position.x <span class="op">&gt;</span> WIDTH <span class="op">-</span> <span class="va">self</span>.radius <span class="kw">or</span> <span class="va">self</span>.position.x <span class="op">&lt;</span> <span class="va">self</span>.radius:</span>
<span id="cb1-66"><a href="#cb1-66"></a>            <span class="va">self</span>.velocity.x <span class="op">*=</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb1-67"><a href="#cb1-67"></a>        <span class="cf">if</span> <span class="va">self</span>.position.y <span class="op">&gt;</span> HEIGHT <span class="op">-</span> <span class="va">self</span>.radius <span class="kw">or</span> <span class="va">self</span>.position.y <span class="op">&lt;</span> <span class="va">self</span>.radius:</span>
<span id="cb1-68"><a href="#cb1-68"></a>            <span class="va">self</span>.velocity.y <span class="op">*=</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb1-69"><a href="#cb1-69"></a></span>
<span id="cb1-70"><a href="#cb1-70"></a>    <span class="kw">def</span> draw(<span class="va">self</span>):</span>
<span id="cb1-71"><a href="#cb1-71"></a>        pygame.draw.aacircle(<span class="va">self</span>.world.screen, (<span class="dv">255</span>, <span class="dv">191</span>, <span class="dv">0</span>), <span class="va">self</span>.position, <span class="va">self</span>.radius)</span>
<span id="cb1-72"><a href="#cb1-72"></a>        pygame.draw.aacircle(<span class="va">self</span>.world.screen, (<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="va">self</span>.position, <span class="va">self</span>.radius, <span class="dv">1</span>)</span>
<span id="cb1-73"><a href="#cb1-73"></a></span>
<span id="cb1-74"><a href="#cb1-74"></a><span class="co"># ---------------------------------------------------------------------- #</span></span>
<span id="cb1-75"><a href="#cb1-75"></a><span class="co"># ## Hauptprogramm</span></span>
<span id="cb1-76"><a href="#cb1-76"></a>world <span class="op">=</span> GameWorld()</span>
<span id="cb1-77"><a href="#cb1-77"></a>world.reset()</span>
<span id="cb1-78"><a href="#cb1-78"></a></span>
<span id="cb1-79"><a href="#cb1-79"></a><span class="co"># Hauptschleife</span></span>
<span id="cb1-80"><a href="#cb1-80"></a><span class="cf">while</span> world.keep_going:</span>
<span id="cb1-81"><a href="#cb1-81"></a>    <span class="co"># Framerate festsetzen</span></span>
<span id="cb1-82"><a href="#cb1-82"></a>    world.clock.tick(FPS)</span>
<span id="cb1-83"><a href="#cb1-83"></a></span>
<span id="cb1-84"><a href="#cb1-84"></a>    world.events()</span>
<span id="cb1-85"><a href="#cb1-85"></a>    world.update()</span>
<span id="cb1-86"><a href="#cb1-86"></a>    world.draw()</span>
<span id="cb1-87"><a href="#cb1-87"></a></span>
<span id="cb1-88"><a href="#cb1-88"></a>pygame.quit()</span>
<span id="cb1-89"><a href="#cb1-89"></a>sys.exit(<span class="dv">0</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Lediglich bei der Behandlung des Kreises gab es eine Änderung. Pygames Shapes haben keinen Rand, daher habe ich erst einen gelbgefüllten Kreis zeichnen lassen und danach eine Kreis, der nur aus einem schwarzen Rand besteht. Und ich habe Anti-Aliasing-Version <a href="https://pyga.me/docs/ref/draw.html#pygame.draw.aacircle"><code>aacircle()</code></a> gewählt, die sieht einfach besser aus.</p>
<p>Und Shapes sind keine Sprites. Ich habe jedenfalls in der Dokumentation keinen Hinweis gefunden, daß auch Shapes ein umschließendes <code>Rect</code> besitzen. Daher mußte ich beim <em>Bouncen</em> doch wieder den Radius einbauen.</p>
<p><a href="https://www.flickr.com/photos/schockwellenreiter/54349307862/"><img src="images/constacc.jpg" class="img-fluid"></a></p>
<p>Als nächstes stand dann das »<a href="https://natureofcode.com/vectors/#example-18-motion-101-velocity-and-constant-acceleration">Example 1.8: Motion 101 (Velocity and Constant Acceleration)</a>« an. Da mußte ich erst einmal ein wenig in der Pygame-Dokumentation stöbern, da <a href="https://pyga.me/docs/ref/math.html">Pygames Vektorklassen</a> nicht die Methode <code>limit()</code> besitzen. Aber mit <a href="https://pyga.me/docs/ref/math.html#pygame.math.Vector2.clamp_magnitude_ip"><code>Vector2.clamp_magnitude_ip()</code></a> hatte ich eine Methode gefunden, die – wenn auch nicht numerisch ein exakt gleiches – ein ähnliches Verhalten erzeugt:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Motion 101 (Velocity and Constant Acceleration)</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="im">import</span> pygame</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="im">import</span> sys</span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co"># Einige nützliche Konstanten</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>WIDTH <span class="op">=</span> <span class="dv">800</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>HEIGHT <span class="op">=</span> <span class="dv">450</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>TITLE <span class="op">=</span> <span class="st">"Motion 101 (Velocity and Constant Acceleration)"</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>FPS <span class="op">=</span> <span class="dv">60</span>  <span class="co"># Framerate</span></span>
<span id="cb2-10"><a href="#cb2-10"></a></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="co"># Farben</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>BG_COLOR <span class="op">=</span> <span class="dv">59</span>, <span class="dv">122</span>, <span class="dv">87</span>  <span class="co"># Billardtisch-Grün</span></span>
<span id="cb2-13"><a href="#cb2-13"></a></span>
<span id="cb2-14"><a href="#cb2-14"></a>vec2 <span class="op">=</span> pygame.Vector2</span>
<span id="cb2-15"><a href="#cb2-15"></a></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="co"># Klassen</span></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="co"># ---------------------------------------------------------------------- #</span></span>
<span id="cb2-18"><a href="#cb2-18"></a><span class="co">## Class GameWorld</span></span>
<span id="cb2-19"><a href="#cb2-19"></a><span class="kw">class</span> GameWorld:</span>
<span id="cb2-20"><a href="#cb2-20"></a></span>
<span id="cb2-21"><a href="#cb2-21"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb2-22"><a href="#cb2-22"></a>        <span class="co"># Pygame und das Fenster initialisieren</span></span>
<span id="cb2-23"><a href="#cb2-23"></a>        pygame.init()</span>
<span id="cb2-24"><a href="#cb2-24"></a>        <span class="va">self</span>.screen <span class="op">=</span> pygame.display.set_mode((WIDTH, HEIGHT))</span>
<span id="cb2-25"><a href="#cb2-25"></a>        pygame.display.set_caption(TITLE)</span>
<span id="cb2-26"><a href="#cb2-26"></a></span>
<span id="cb2-27"><a href="#cb2-27"></a>        <span class="va">self</span>.clock <span class="op">=</span> pygame.time.Clock()</span>
<span id="cb2-28"><a href="#cb2-28"></a>        <span class="va">self</span>.keep_going <span class="op">=</span> <span class="va">True</span></span>
<span id="cb2-29"><a href="#cb2-29"></a></span>
<span id="cb2-30"><a href="#cb2-30"></a>    <span class="kw">def</span> reset(<span class="va">self</span>):</span>
<span id="cb2-31"><a href="#cb2-31"></a>        <span class="co"># Neustart oder Status zurücksetzen</span></span>
<span id="cb2-32"><a href="#cb2-32"></a>        <span class="co"># Hier werden alle Elemente der GameWorld initialisiert</span></span>
<span id="cb2-33"><a href="#cb2-33"></a>        <span class="va">self</span>.mover <span class="op">=</span> Mover(<span class="va">self</span>)</span>
<span id="cb2-34"><a href="#cb2-34"></a></span>
<span id="cb2-35"><a href="#cb2-35"></a>    <span class="kw">def</span> events(<span class="va">self</span>):</span>
<span id="cb2-36"><a href="#cb2-36"></a>        <span class="co"># Poll for events</span></span>
<span id="cb2-37"><a href="#cb2-37"></a>        <span class="cf">for</span> event <span class="kw">in</span> pygame.event.get():</span>
<span id="cb2-38"><a href="#cb2-38"></a>            <span class="cf">if</span> ((event.<span class="bu">type</span> <span class="op">==</span> pygame.QUIT) <span class="kw">or</span></span>
<span id="cb2-39"><a href="#cb2-39"></a>                (event.<span class="bu">type</span> <span class="op">==</span> pygame.KEYDOWN <span class="kw">and</span> event.key <span class="op">==</span> pygame.K_ESCAPE)):</span>
<span id="cb2-40"><a href="#cb2-40"></a>                <span class="va">self</span>.keep_going <span class="op">=</span> <span class="va">False</span></span>
<span id="cb2-41"><a href="#cb2-41"></a></span>
<span id="cb2-42"><a href="#cb2-42"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb2-43"><a href="#cb2-43"></a>        <span class="va">self</span>.mover.update()</span>
<span id="cb2-44"><a href="#cb2-44"></a>        <span class="va">self</span>.mover.check_borders()</span>
<span id="cb2-45"><a href="#cb2-45"></a></span>
<span id="cb2-46"><a href="#cb2-46"></a>    <span class="kw">def</span> draw(<span class="va">self</span>):</span>
<span id="cb2-47"><a href="#cb2-47"></a>        <span class="va">self</span>.screen.fill(BG_COLOR)</span>
<span id="cb2-48"><a href="#cb2-48"></a>        <span class="co"># Game drawings go here</span></span>
<span id="cb2-49"><a href="#cb2-49"></a>        <span class="va">self</span>.mover.draw()</span>
<span id="cb2-50"><a href="#cb2-50"></a></span>
<span id="cb2-51"><a href="#cb2-51"></a>        <span class="co"># Alle Änderungen auf den Bildschirm</span></span>
<span id="cb2-52"><a href="#cb2-52"></a>        pygame.display.flip()</span>
<span id="cb2-53"><a href="#cb2-53"></a></span>
<span id="cb2-54"><a href="#cb2-54"></a><span class="co"># ---------------------------------------------------------------------- #</span></span>
<span id="cb2-55"><a href="#cb2-55"></a><span class="kw">class</span> Mover():</span>
<span id="cb2-56"><a href="#cb2-56"></a></span>
<span id="cb2-57"><a href="#cb2-57"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _world):</span>
<span id="cb2-58"><a href="#cb2-58"></a>        <span class="va">self</span>.world <span class="op">=</span> _world</span>
<span id="cb2-59"><a href="#cb2-59"></a>        <span class="va">self</span>.position <span class="op">=</span> vec2(WIDTH<span class="op">//</span><span class="dv">2</span>, HEIGHT<span class="op">//</span><span class="dv">2</span>)</span>
<span id="cb2-60"><a href="#cb2-60"></a>        <span class="va">self</span>.velocity <span class="op">=</span> vec2(<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb2-61"><a href="#cb2-61"></a>        <span class="va">self</span>.acceleration <span class="op">=</span> vec2(<span class="op">-</span><span class="fl">0.001</span>, <span class="fl">0.01</span>)</span>
<span id="cb2-62"><a href="#cb2-62"></a>        <span class="va">self</span>.radius <span class="op">=</span> <span class="dv">24</span></span>
<span id="cb2-63"><a href="#cb2-63"></a>        <span class="va">self</span>.limit <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb2-64"><a href="#cb2-64"></a></span>
<span id="cb2-65"><a href="#cb2-65"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb2-66"><a href="#cb2-66"></a>        <span class="va">self</span>.velocity <span class="op">+=</span> <span class="va">self</span>.acceleration</span>
<span id="cb2-67"><a href="#cb2-67"></a>        <span class="va">self</span>.velocity.clamp_magnitude_ip(<span class="va">self</span>.limit)</span>
<span id="cb2-68"><a href="#cb2-68"></a>        <span class="va">self</span>.position <span class="op">+=</span> <span class="va">self</span>.velocity</span>
<span id="cb2-69"><a href="#cb2-69"></a></span>
<span id="cb2-70"><a href="#cb2-70"></a>    <span class="kw">def</span> check_borders(<span class="va">self</span>):</span>
<span id="cb2-71"><a href="#cb2-71"></a>        <span class="co"># Check borders</span></span>
<span id="cb2-72"><a href="#cb2-72"></a>        <span class="cf">if</span> <span class="va">self</span>.position.x <span class="op">&gt;</span> WIDTH:</span>
<span id="cb2-73"><a href="#cb2-73"></a>            <span class="va">self</span>.position.x <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-74"><a href="#cb2-74"></a>        <span class="cf">elif</span> <span class="va">self</span>.position.x <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb2-75"><a href="#cb2-75"></a>            <span class="va">self</span>.position.x <span class="op">=</span> WIDTH</span>
<span id="cb2-76"><a href="#cb2-76"></a>        <span class="cf">if</span> <span class="va">self</span>.position.y <span class="op">&gt;</span> HEIGHT:</span>
<span id="cb2-77"><a href="#cb2-77"></a>            <span class="va">self</span>.position.y <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-78"><a href="#cb2-78"></a>        <span class="cf">elif</span> <span class="va">self</span>.position.y <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb2-79"><a href="#cb2-79"></a>            <span class="va">self</span>.position.y <span class="op">=</span> HEIGHT</span>
<span id="cb2-80"><a href="#cb2-80"></a></span>
<span id="cb2-81"><a href="#cb2-81"></a>    <span class="kw">def</span> draw(<span class="va">self</span>):</span>
<span id="cb2-82"><a href="#cb2-82"></a>        pygame.draw.aacircle(<span class="va">self</span>.world.screen, (<span class="dv">255</span>, <span class="dv">191</span>, <span class="dv">0</span>), <span class="va">self</span>.position, <span class="va">self</span>.radius)</span>
<span id="cb2-83"><a href="#cb2-83"></a>        pygame.draw.aacircle(<span class="va">self</span>.world.screen, (<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="va">self</span>.position, <span class="va">self</span>.radius, <span class="dv">1</span>)</span>
<span id="cb2-84"><a href="#cb2-84"></a></span>
<span id="cb2-85"><a href="#cb2-85"></a>        <span class="va">self</span>.font <span class="op">=</span> pygame.font.SysFont(<span class="st">"American Typewriter"</span>, <span class="dv">16</span>)</span>
<span id="cb2-86"><a href="#cb2-86"></a>        <span class="va">self</span>.vel_txt <span class="op">=</span> <span class="va">self</span>.font.render(<span class="bu">str</span>(<span class="va">self</span>.velocity.magnitude()), <span class="va">True</span>,</span>
<span id="cb2-87"><a href="#cb2-87"></a>                                        (<span class="dv">255</span>, <span class="dv">255</span>, <span class="dv">255</span>))</span>
<span id="cb2-88"><a href="#cb2-88"></a>        <span class="va">self</span>.world.screen.blit(<span class="va">self</span>.vel_txt, (<span class="dv">20</span>, <span class="dv">20</span>))</span>
<span id="cb2-89"><a href="#cb2-89"></a></span>
<span id="cb2-90"><a href="#cb2-90"></a><span class="co"># ---------------------------------------------------------------------- #</span></span>
<span id="cb2-91"><a href="#cb2-91"></a><span class="co"># ## Hauptprogramm</span></span>
<span id="cb2-92"><a href="#cb2-92"></a>world <span class="op">=</span> GameWorld()</span>
<span id="cb2-93"><a href="#cb2-93"></a>world.reset()</span>
<span id="cb2-94"><a href="#cb2-94"></a></span>
<span id="cb2-95"><a href="#cb2-95"></a><span class="co"># Hauptschleife</span></span>
<span id="cb2-96"><a href="#cb2-96"></a><span class="cf">while</span> world.keep_going:</span>
<span id="cb2-97"><a href="#cb2-97"></a>    <span class="co"># Framerate festsetzen</span></span>
<span id="cb2-98"><a href="#cb2-98"></a>    world.clock.tick(FPS)</span>
<span id="cb2-99"><a href="#cb2-99"></a></span>
<span id="cb2-100"><a href="#cb2-100"></a>    world.events()</span>
<span id="cb2-101"><a href="#cb2-101"></a>    world.update()</span>
<span id="cb2-102"><a href="#cb2-102"></a>    world.draw()</span>
<span id="cb2-103"><a href="#cb2-103"></a></span>
<span id="cb2-104"><a href="#cb2-104"></a>pygame.quit()</span>
<span id="cb2-105"><a href="#cb2-105"></a>sys.exit(<span class="dv">0</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Zusätzlich habe ich noch eine Textausgabe implementiert, die die Magnitude des Vektors ausgibt. Auch den Quellcode dieses Skriptes (<a href="https://github.com/kantel/pythoncuriosa/blob/main/noc/motion101b.py">motion101b.py</a>) könnt Ihr auf GitHub finden.</p>
<p><a href="https://www.flickr.com/photos/schockwellenreiter/54348964715/"><img src="images/randacc.jpg" class="img-fluid"></a></p>
<p>Als letztes stand dann noch das »<a href="https://natureofcode.com/vectors/#example-19-motion-101-velocity-and-random-acceleration">Example 1.9: Motion 101 (Velocity and Random Acceleration)</a>« auf meinem Programm. Hier dachte ich eigentlich, daß das Fehlen der Methode <code>random2D()</code> mir etwas Kopfschmerzen verursachen würde, aber Pythons Methode <code>Random.uniform()</code> zusammen mit <a href="https://pyga.me/docs/ref/math.html#pygame.math.Vector2.update"><code>Vector2.update()</code></a> und <a href="https://pyga.me/docs/ref/math.html#pygame.math.Vector2.normalize_ip"><code>Vector2.normalize_ip()</code></a> ließen mich schnell eine Lösung finden.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Motion 101 (Velocity and Constant Acceleration)</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="im">import</span> pygame</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="im">from</span> random <span class="im">import</span> random, uniform</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="im">import</span> sys</span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co"># Einige nützliche Konstanten</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>WIDTH <span class="op">=</span> <span class="dv">800</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>HEIGHT <span class="op">=</span> <span class="dv">450</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>TITLE <span class="op">=</span> <span class="st">"Motion 101 (Velocity and Random Acceleration)"</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>FPS <span class="op">=</span> <span class="dv">60</span>  <span class="co"># Framerate</span></span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co"># Farben</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>BG_COLOR <span class="op">=</span> <span class="dv">59</span>, <span class="dv">122</span>, <span class="dv">87</span>  <span class="co"># Billardtisch-Grün</span></span>
<span id="cb3-14"><a href="#cb3-14"></a></span>
<span id="cb3-15"><a href="#cb3-15"></a>vec2 <span class="op">=</span> pygame.Vector2</span>
<span id="cb3-16"><a href="#cb3-16"></a></span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="co"># Klassen</span></span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="co"># ---------------------------------------------------------------------- #</span></span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="co">## Class GameWorld</span></span>
<span id="cb3-20"><a href="#cb3-20"></a><span class="kw">class</span> GameWorld:</span>
<span id="cb3-21"><a href="#cb3-21"></a></span>
<span id="cb3-22"><a href="#cb3-22"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb3-23"><a href="#cb3-23"></a>        <span class="co"># Pygame und das Fenster initialisieren</span></span>
<span id="cb3-24"><a href="#cb3-24"></a>        pygame.init()</span>
<span id="cb3-25"><a href="#cb3-25"></a>        <span class="va">self</span>.screen <span class="op">=</span> pygame.display.set_mode((WIDTH, HEIGHT))</span>
<span id="cb3-26"><a href="#cb3-26"></a>        pygame.display.set_caption(TITLE)</span>
<span id="cb3-27"><a href="#cb3-27"></a></span>
<span id="cb3-28"><a href="#cb3-28"></a>        <span class="va">self</span>.clock <span class="op">=</span> pygame.time.Clock()</span>
<span id="cb3-29"><a href="#cb3-29"></a>        <span class="va">self</span>.keep_going <span class="op">=</span> <span class="va">True</span></span>
<span id="cb3-30"><a href="#cb3-30"></a></span>
<span id="cb3-31"><a href="#cb3-31"></a>    <span class="kw">def</span> reset(<span class="va">self</span>):</span>
<span id="cb3-32"><a href="#cb3-32"></a>        <span class="co"># Neustart oder Status zurücksetzen</span></span>
<span id="cb3-33"><a href="#cb3-33"></a>        <span class="co"># Hier werden alle Elemente der GameWorld initialisiert</span></span>
<span id="cb3-34"><a href="#cb3-34"></a>        <span class="va">self</span>.mover <span class="op">=</span> Mover(<span class="va">self</span>)</span>
<span id="cb3-35"><a href="#cb3-35"></a></span>
<span id="cb3-36"><a href="#cb3-36"></a>    <span class="kw">def</span> events(<span class="va">self</span>):</span>
<span id="cb3-37"><a href="#cb3-37"></a>        <span class="co"># Poll for events</span></span>
<span id="cb3-38"><a href="#cb3-38"></a>        <span class="cf">for</span> event <span class="kw">in</span> pygame.event.get():</span>
<span id="cb3-39"><a href="#cb3-39"></a>            <span class="cf">if</span> ((event.<span class="bu">type</span> <span class="op">==</span> pygame.QUIT) <span class="kw">or</span></span>
<span id="cb3-40"><a href="#cb3-40"></a>                (event.<span class="bu">type</span> <span class="op">==</span> pygame.KEYDOWN <span class="kw">and</span> event.key <span class="op">==</span> pygame.K_ESCAPE)):</span>
<span id="cb3-41"><a href="#cb3-41"></a>                <span class="va">self</span>.keep_going <span class="op">=</span> <span class="va">False</span></span>
<span id="cb3-42"><a href="#cb3-42"></a></span>
<span id="cb3-43"><a href="#cb3-43"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb3-44"><a href="#cb3-44"></a>        <span class="va">self</span>.mover.update()</span>
<span id="cb3-45"><a href="#cb3-45"></a>        <span class="va">self</span>.mover.check_borders()</span>
<span id="cb3-46"><a href="#cb3-46"></a></span>
<span id="cb3-47"><a href="#cb3-47"></a>    <span class="kw">def</span> draw(<span class="va">self</span>):</span>
<span id="cb3-48"><a href="#cb3-48"></a>        <span class="va">self</span>.screen.fill(BG_COLOR)</span>
<span id="cb3-49"><a href="#cb3-49"></a>        <span class="co"># Game drawings go here</span></span>
<span id="cb3-50"><a href="#cb3-50"></a>        <span class="va">self</span>.mover.draw()</span>
<span id="cb3-51"><a href="#cb3-51"></a></span>
<span id="cb3-52"><a href="#cb3-52"></a>        <span class="co"># Alle Änderungen auf den Bildschirm</span></span>
<span id="cb3-53"><a href="#cb3-53"></a>        pygame.display.flip()</span>
<span id="cb3-54"><a href="#cb3-54"></a></span>
<span id="cb3-55"><a href="#cb3-55"></a><span class="co"># ---------------------------------------------------------------------- #</span></span>
<span id="cb3-56"><a href="#cb3-56"></a><span class="kw">class</span> Mover():</span>
<span id="cb3-57"><a href="#cb3-57"></a></span>
<span id="cb3-58"><a href="#cb3-58"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _world):</span>
<span id="cb3-59"><a href="#cb3-59"></a>        <span class="va">self</span>.world <span class="op">=</span> _world</span>
<span id="cb3-60"><a href="#cb3-60"></a>        <span class="va">self</span>.position <span class="op">=</span> vec2(WIDTH<span class="op">//</span><span class="dv">2</span>, HEIGHT<span class="op">//</span><span class="dv">2</span>)</span>
<span id="cb3-61"><a href="#cb3-61"></a>        <span class="va">self</span>.velocity <span class="op">=</span> vec2(<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb3-62"><a href="#cb3-62"></a>        <span class="va">self</span>.acceleration <span class="op">=</span> vec2(<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb3-63"><a href="#cb3-63"></a>        <span class="va">self</span>.radius <span class="op">=</span> <span class="dv">24</span></span>
<span id="cb3-64"><a href="#cb3-64"></a>        <span class="va">self</span>.limit <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb3-65"><a href="#cb3-65"></a></span>
<span id="cb3-66"><a href="#cb3-66"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb3-67"><a href="#cb3-67"></a>        x <span class="op">=</span> uniform(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb3-68"><a href="#cb3-68"></a>        y <span class="op">=</span> uniform(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb3-69"><a href="#cb3-69"></a>        <span class="va">self</span>.acceleration.update(x, y)</span>
<span id="cb3-70"><a href="#cb3-70"></a>        <span class="va">self</span>.acceleration.normalize_ip()</span>
<span id="cb3-71"><a href="#cb3-71"></a>        <span class="va">self</span>.acceleration <span class="op">*=</span> random()<span class="op">*</span><span class="dv">2</span></span>
<span id="cb3-72"><a href="#cb3-72"></a>        <span class="va">self</span>.velocity <span class="op">+=</span> <span class="va">self</span>.acceleration</span>
<span id="cb3-73"><a href="#cb3-73"></a>        <span class="va">self</span>.velocity.clamp_magnitude_ip(<span class="va">self</span>.limit)</span>
<span id="cb3-74"><a href="#cb3-74"></a>        <span class="va">self</span>.position <span class="op">+=</span> <span class="va">self</span>.velocity</span>
<span id="cb3-75"><a href="#cb3-75"></a></span>
<span id="cb3-76"><a href="#cb3-76"></a>    <span class="kw">def</span> check_borders(<span class="va">self</span>):</span>
<span id="cb3-77"><a href="#cb3-77"></a>        <span class="co"># Check borders</span></span>
<span id="cb3-78"><a href="#cb3-78"></a>        <span class="cf">if</span> <span class="va">self</span>.position.x <span class="op">&gt;</span> WIDTH:</span>
<span id="cb3-79"><a href="#cb3-79"></a>            <span class="va">self</span>.position.x <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb3-80"><a href="#cb3-80"></a>        <span class="cf">elif</span> <span class="va">self</span>.position.x <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb3-81"><a href="#cb3-81"></a>            <span class="va">self</span>.position.x <span class="op">=</span> WIDTH</span>
<span id="cb3-82"><a href="#cb3-82"></a>        <span class="cf">if</span> <span class="va">self</span>.position.y <span class="op">&gt;</span> HEIGHT:</span>
<span id="cb3-83"><a href="#cb3-83"></a>            <span class="va">self</span>.position.y <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb3-84"><a href="#cb3-84"></a>        <span class="cf">elif</span> <span class="va">self</span>.position.y <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb3-85"><a href="#cb3-85"></a>            <span class="va">self</span>.position.y <span class="op">=</span> HEIGHT</span>
<span id="cb3-86"><a href="#cb3-86"></a></span>
<span id="cb3-87"><a href="#cb3-87"></a>    <span class="kw">def</span> draw(<span class="va">self</span>):</span>
<span id="cb3-88"><a href="#cb3-88"></a>        pygame.draw.aacircle(<span class="va">self</span>.world.screen, (<span class="dv">255</span>, <span class="dv">191</span>, <span class="dv">0</span>), <span class="va">self</span>.position, <span class="va">self</span>.radius)</span>
<span id="cb3-89"><a href="#cb3-89"></a>        pygame.draw.aacircle(<span class="va">self</span>.world.screen, (<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="va">self</span>.position, <span class="va">self</span>.radius, <span class="dv">1</span>)</span>
<span id="cb3-90"><a href="#cb3-90"></a></span>
<span id="cb3-91"><a href="#cb3-91"></a>        <span class="va">self</span>.font <span class="op">=</span> pygame.font.SysFont(<span class="st">"American Typewriter"</span>, <span class="dv">16</span>)</span>
<span id="cb3-92"><a href="#cb3-92"></a>        <span class="va">self</span>.vel_txt <span class="op">=</span> <span class="va">self</span>.font.render(<span class="bu">str</span>(<span class="va">self</span>.velocity.magnitude()), <span class="va">True</span>,</span>
<span id="cb3-93"><a href="#cb3-93"></a>                                        (<span class="dv">255</span>, <span class="dv">255</span>, <span class="dv">255</span>))</span>
<span id="cb3-94"><a href="#cb3-94"></a>        <span class="va">self</span>.world.screen.blit(<span class="va">self</span>.vel_txt, (<span class="dv">20</span>, <span class="dv">20</span>))</span>
<span id="cb3-95"><a href="#cb3-95"></a></span>
<span id="cb3-96"><a href="#cb3-96"></a><span class="co"># ---------------------------------------------------------------------- #</span></span>
<span id="cb3-97"><a href="#cb3-97"></a><span class="co"># ## Hauptprogramm</span></span>
<span id="cb3-98"><a href="#cb3-98"></a>world <span class="op">=</span> GameWorld()</span>
<span id="cb3-99"><a href="#cb3-99"></a>world.reset()</span>
<span id="cb3-100"><a href="#cb3-100"></a></span>
<span id="cb3-101"><a href="#cb3-101"></a><span class="co"># Hauptschleife</span></span>
<span id="cb3-102"><a href="#cb3-102"></a><span class="cf">while</span> world.keep_going:</span>
<span id="cb3-103"><a href="#cb3-103"></a>    <span class="co"># Framerate festsetzen</span></span>
<span id="cb3-104"><a href="#cb3-104"></a>    world.clock.tick(FPS)</span>
<span id="cb3-105"><a href="#cb3-105"></a></span>
<span id="cb3-106"><a href="#cb3-106"></a>    world.events()</span>
<span id="cb3-107"><a href="#cb3-107"></a>    world.update()</span>
<span id="cb3-108"><a href="#cb3-108"></a>    world.draw()</span>
<span id="cb3-109"><a href="#cb3-109"></a></span>
<span id="cb3-110"><a href="#cb3-110"></a>pygame.quit()</span>
<span id="cb3-111"><a href="#cb3-111"></a>sys.exit(<span class="dv">0</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Das Programm heißt (Überraschung!) <a href="https://github.com/kantel/pythoncuriosa/blob/main/noc/motion101c.py">motion101c.py</a> und ist natürlich ebenfalls auf meinem GitHub-Account zu finden.</p>
<p>Jetzt fehlen mir »nur« noch Beispiele zur Interaktivität und Ideen für ein paar Skripte, mit denen ich das Gelernte noch ein wenig aufhübschen kann. Dafür hätte ich aber gerne, das Pygbag wieder mit meinem Mac spielt, denn eigentlich machen Beispiele nur Spaß, wenn man sie auch im Browser vorführen kann.</p>
<p>Denn ich habe mich nur auf Pygame (CE) eingelassen, weil ich – inspiriert durch die Online-Präsentation von »The Nature of Code« – meine Ports und Skripte auch online präsentieren wollte. Denn sonst hätte ich für das Projekt »Python-Port von Nature of Code« ja auch bei Arcade (gefällt mir sogar mittlerweile ein wenig besser als Pygame) oder bei <a href="http://cognitiones.kantel-chaos-team.de/programmierung/creativecoding/processing/py5.html">Py5</a> bleiben können. Und wer weiß, vielleicht ist <em>James Schmitz</em> mit seinen Bemühungen, Py5 via <a href="http://cognitiones.kantel-chaos-team.de/programmierung/python/pyscript.html">PyScript</a> webtauglich zu machen, ja schneller. Das wäre dann ein echter <em>Game Changer</em>. <em>Still digging!</em></p>
<hr>
<p><strong>Bild</strong>: <em><a href="https://www.flickr.com/photos/schockwellenreiter/54349010602/">Die rasende Python</a></em>, erstellt mit <a href="https://openart.ai/home">OpenArt.ai</a>. Prompt: »<em>colored french comic style, a python with horn-rimmed glasses sits at the wheel of an open sports car and races at high speed through a dystopian city with crumbling skyscrapers, junk cars standing on the side of the road</em>«. Modell: Flux (Pro), Style: None.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/kantel\.github\.io\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="kantel/kantel.github.io" data-repo-id="R_kgDOIjiXMQ" data-category="General" data-category-id="DIC_kwDOIjiXMc4CS_hh" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
</div> <!-- /content -->




</body></html>